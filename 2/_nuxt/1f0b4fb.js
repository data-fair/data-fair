(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{150:function(e,n,t){"use strict";var r=t(1),o=t(0);t(142),r.a.use(t(506),{moment:o})},188:function(e,n,t){},189:function(e,n,t){},331:function(e,n,t){"use strict";t(38),t(7),t(15),t(34),t(35),t(31),t(41),t(40);var r=t(334),o={props:["folder"],computed:{content:function(){if(this.$route){var e=t(470),content=e.keys().filter((function(e){return e.includes("-fr.md")})).map((function(n){return Object.assign(r(e(n).default).meta||{},{chapter:n.split("/")[1],id:n.split("/")[2].split(".").shift().replace("-fr","")})}));return content.sort((function(e,n){return e.section<n.section?-1:e.section>n.section?1:e.subsection<n.subsection?-1:1})),content}},chapters:function(){return[{id:"functional-presentation",title:{fr:"Présentation fonctionnelle"}},{id:"technical-architecture",title:{fr:"Architecture technique"}},{id:"install",title:{fr:"Installation et configuration"}},{id:"interoperate",title:{fr:"Interopérer avec Data Fair"}}]}}},l=t(48),d=t(70),c=t.n(d),m=t(143),v=t(144),f=t(146),h=t(97),j=t(46),component=Object(l.a)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-list",{attrs:{dense:"",expand:""}},[e._l(e.chapters,(function(n,i){return[t("v-list-group",{key:n.id,attrs:{"no-action":"",value:0===i}},[t("v-list-item",{attrs:{slot:"activator",to:e.localePath({name:n.id}),nuxt:"",exact:""},slot:"activator"},[t("v-list-item-title",[e._v("\n          "+e._s(n.title.fr)+"\n        ")])],1),e._v(" "),e._l(e.content.filter((function(e){return e.chapter===n.id&&!e.subsection})),(function(section){return[e.content.filter((function(e){return e.chapter===n.id&&e.section==section.section&&e.subsection})).length?t("v-list-group",{key:section.id,attrs:{"no-action":"","sub-group":""}},[t("v-list-item",{attrs:{slot:"activator",to:e.localePath({name:n.id+"-id",params:{id:section.id}}),nuxt:""},slot:"activator"},[t("v-list-item-title",[e._v("\n              "+e._s(section.title)+"\n            ")])],1),e._v(" "),e._l(e.content.filter((function(e){return e.chapter===n.id&&e.section==section.section&&e.subsection})),(function(r){return t("v-list-item",{key:r.id,attrs:{to:e.localePath({name:n.id+"-id",params:{id:r.id}})}},[t("v-list-item-title",[e._v("\n              "+e._s(r.title)+"\n              "),r.published?e._e():t("v-icon",{attrs:{color:"error",small:""}},[e._v("\n                mdi-alert\n              ")])],1)],1)}))],2):t("v-list-item",{key:section.id,attrs:{to:e.localePath({name:n.id+"-id",params:{id:section.id}})}},[t("v-list-item-title",[e._v("\n            "+e._s(section.title||section.id)+"\n            "),section.published?e._e():t("v-icon",{attrs:{color:"error",small:""}},[e._v("\n              mdi-alert\n            ")])],1)],1)]}))],2)]}))],2)}),[],!1,null,null,null),x=component.exports;c()(component,{VIcon:m.a,VList:v.a,VListGroup:f.a,VListItem:h.a,VListItemTitle:j.b});var L={components:{FolderMenu:x}},I=(t(490),t(514)),z=t(515),P=t(516),A=t(333),S=t(145),D=t(517),y=t(519),C=t(518),E=Object(l.a)(L,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-navigation-drawer",{attrs:{app:"",fixed:"",width:"300"}},[t("v-list-item",{attrs:{to:e.localePath({name:"index"}),nuxt:"",exact:""}},[t("v-list-item-avatar",{staticClass:"brand-logo"},[t("v-img",{attrs:{src:"./logo.png"}})],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{staticClass:"text-h5 font-weight-bold"},[e._v("\n          Data Fair\n        ")])],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("folder-menu")],1),e._v(" "),t("v-main",[t("nuxt")],1),e._v(" "),t("v-footer",{staticClass:"pa-3"},[t("v-spacer"),e._v(" "),t("div",[e._v("Maintained by "),t("a",{attrs:{href:"https://koumoul.com"}},[e._v("Koumoul")])])],1)],1)}),[],!1,null,null,null);n.a=E.exports;c()(E,{VApp:I.a,VDivider:z.a,VFooter:P.a,VImg:A.a,VListItem:h.a,VListItemAvatar:S.a,VListItemContent:j.a,VListItemTitle:j.b,VMain:D.a,VNavigationDrawer:y.a,VSpacer:C.a})},332:function(e,n,t){"use strict";var r={},o=(t(499),t(48)),l=t(70),d=t.n(l),c=t(514),m=t(517),component=Object(o.a)(r,(function(){var e=this.$createElement,n=this._self._c||e;return n("v-app",[n("v-main",[n("nuxt")],1)],1)}),[],!1,null,null,null);n.a=component.exports;d()(component,{VApp:c.a,VMain:m.a})},336:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Contrôles d'accès\nsection: 3\nsubsection : 12\nupdated: 2020-12-09\ndescription : Contrôles d'accès\npublished: true\n---\n\n### Contrôles d’accès\n\nData Fair permet de contrôler simplement mais de manière puissante les permissions sur les différentes ressources. Les utilisateurs peuvent faire partie de une ou plusieurs organisations, qui peuvent elles même contenir un ou plusieurs utilisateurs.  \nQuand un utilisateur configure un jeux de données ou une application, il peut déterminer quels utilisateurs et organisations y ont accès. Ouvrir un accès à une organisation donne l'accès à tous les membres de cette organisation. Les accès peuvent également être ouverts en public et même les personnes non authentifiées pourront alors accéder à la ressource.\n\nLes utilisateurs et organisations ne sont pas gérées dans ce service. Pour gerer les utilisateurs et organisation, Data Fair doit être connecté à un annuaire qui implémente le contrat du service d'identification **Simple-Directory**.\n"},337:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Analytics du portail\nsection: 3\nsubsection : 11\nupdated: 2020-12-09\ndescription : Statistiques d’utilisation du portail\npublished: true\n---\n\nCe module permet de comptabiliser les différentes statistiques de fréquentation de la plateforme.  \nIl est possible d'utiliser Matomo Analytics (ancienne piwik) ou Google Analytics comme système de suivi.\n\n### Matomo Analytics\nLes statistiques sous [Matomo Analytics](https://fr.matomo.org/) sont disponibles sous différentes formes : tableaux, graphiques et cartes. En sélectionnant les différentes représentations des statistiques, il est possible de personnaliser ses tableaux de bord.  \nIl est également possible d'anonymiser les données et d’enregistrer les parcours utilisateurs tout en étant en conformité avec les recommandations de la CNIL.\n\n![Matomo](./images/functional-presentation/matomo.jpg)\n\nIl est possible de traiter des données personnelles en activant les fonctionnalités suivantes :\n* Droit d'accès : les visiteurs peuvent avoir accès à leurs données personnelles\n* Droit à la portabilité : les données des visiteurs peuvent être récupérées dans un format lisible par une machine\n* Droit à l'oubli : respect de la vie privée des utilisateurs en supprimant leurs données personnelles\n* Droit de retirer son consentement : les visiteurs peuvent revenir sur le consentement qu'ils ont accordé à n'importe quel moment\n* Droit d’opposition : les visiteurs peuvent facilement choisir de ne plus être suivis\n* Fonctionnalités d'anonymisation : en un clic, il est possible d'anonymiser les données personnelles comme les adresses IP, la localisation et bien d'autres\n* Support de la fonctionnalité \"Ne pas pister\" des navigateurs : utilisation des réglages du navigateur web concernant les paramètres relatifs à la vie privée\n* Suppression des données historisées : ces données sont supprimées automatiquement de la base de données\n* Anonymisation des données historisées : on peut garder ces données en les anonymisant.\n\n### Google Analytics\n\nLes statistiques sous [Google Analytics](https://analytics.google.com/) sont aussi disponibles sous différentes formes : tableaux, graphiques et cartes. Il est aussi possible de personnaliser ses tableaux de bord.\n\n![Google Analytics](./images/functional-presentation/google-analytics.jpg)\n\n### Configuration\n\nLa configuration du système de suivi des utilisateurs se compose en deux points.\n1. Configuration du système de suivi sur le portail\n2. Configuration des événements\n\n\n**Configuration du système de suivi sur le portail**\n\nCe point de configuration est disponible sur la configuration du portail.\nPour Google Analytics vous aurez besoin du *numero d'identifiant* et pour Matomo analytics, vous aurez besoin de l'*url du tracker* et de l'*identifiant de votre site*.\n\n![Configuration](./images/functional-presentation/config-GA-1.jpg)\n\n\n**Configuration des événements**\nCe point de configuration est disponible dans les paramètres de Data Fair à la catégorie *Appels exterieurs (webhooks)*.\n\nVous pouvez définir quels événements vous souhaitez suivre dans vos analytics :\n* Un nouveau jeu de données a été créé\n* Un jeu de données a rencontré une erreur\n* Un jeu de données a été finalisé et mis en ligne\n* Un jeu de données a été publié sur un catalogue\n* Un jeu de données a été téléchargé dans un format fichier\n* Une nouvelle réutilisation a été créée\n* Une réutilisation a rencontré une erreur\n* Une réutilisation a été publiée sur un catalogue\n* Le fichier d'un jeu de données a été mis à jour\n* Un extrait filtré d'un jeu de données a été téléchargé dans un format fichier\n\n![Configuration](./images/functional-presentation/config-GA-2.jpg)\n"},338:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Accès par API\nsection: 2\nsubsection : 9\nupdated: 2020-12-09\ndescription : APIs proposées et intégration globale\npublished: true\n---\n\nL’ensemble des fonctionnalités de la gestion des données, du catalogage, de la gestion des utilisateurs et des statistiques est disponible au travers d’API Rest documentées.  \n\nLa documentation des APIs est réalisée en suivant la spécification OpenAPI 3.0. Cela permet une documentation claire et compréhensible au travers d’une documentation interactive. La prise en main des APIs par les développeurs est ainsi plus rapide.  \n\nUn autre avantage d’utiliser cette spécification est l’interopérabilité accrue, certains systèmes informatiques (par exemple les API gateway)  étant capable de comprendre cette spécification.\n\n\n![API](./images/functional-presentation/api.jpg)\n\n\nLes différentes utilisations possibles de l'API sont décrites plus en détails dans [cette section](./interoperate/api).\n\nIl est possible d'utiliser l'API pour moissonner les données d'un portail. Par exemple, le site https://www.opendatarchives.fr/ moissonne régulièrement les données du portail https://data.ademe.fr/ propulsé par Data Fair.\n"},339:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Clés d’API\nsection: 3\nsubsection : 10\nupdated: 2020-12-09\ndescription : Clés d’API\npublished: true\n---\n\n\nToutes les fonctionnalités de Data Fair sont exposées aux niveaux de l'API. Celle ci peut être appelée en dehors du portail, mais pour les accès restreints il faut passer par l'utilisation d'une clé d'API. Les différentes utilisations possibles de l'API sont décrites plus en détails dans [cette section](./interoperate/api).\n\n![Clé d'api](./images/functional-presentation//ajout-api.jpg)\n\nLors de l’ajout d’une clé d’api, il est possible de restreindre l’accès à une seule fonction. Il est ensuite possible de restreindre l’accès à une IP ou à un nom de domaine précis.\n"},340:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Statistiques de l'API\nsection: 3\nsubsection : 12\nupdated: 2020-12-09\ndescription : Statistiques des API\npublished: false\n---\nDans la mesure ou Data Fair et les différents services associés utilisent beaucoup les mécanismes de cache pour améliorer les temps d'accès aux ressources, des statistiques précises d'utilisation des différents points d'accès de la plateforme ne peuvent être extraites qu'après coup. Un module permet d'extraire des statistiques d'utilisation des API à partir des logs HTTP de services tels que Nginx.\n\nLes logs d'accès aux API sont publiés sur Data Fair sous la forme d'un jeu de données privés. Ce jeu de données peut être utilisé en consultation comme un autre jeu de données, on peut faire des visualisations dessus et il est prévu de réaliser une page de contenu présentant différentes vues de ces données sous la forme d’un tableau de bord.\n"},341:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Back Office\nsection: 3\nupdated: 2020-12-09\ndescription : Back Office\npublished: true\n---\n\nLe back office permet de gérer différents éléments sur la plateforme :  les données, les visualisations, la configuration du portail, les membres des organisations, les permissions, les connecteurs vers des catalogues (en entrée ou en sortie) et les collecteurs de données périodiques.\n\n\n![Page d'accueil Data FAIR](./images/functional-presentation/back-office.jpg)\n"},342:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Catalogue de données\nsection: 2\nsubsection : 2\nupdated: 2020-12-09\ndescription : Catalogue de données\npublished: true\n---\n\nLe portail permet d’accéder rapidement à l’ensemble des jeux de données publiés grâce à une page présentant les différentes sources de manière synthétique. Chaque source est présentée au travers d’une vignette qui indique son titre, sa description, sa date de mise à jour et propose plusieurs actions:\n* Prévisualiser les données avec une vue tabulaire dans laquelle on peut trier les colonnes, paginer, effectuer des recherches fulltext et télécharger les données filtrées\n* Accéder à la documentation interactive de l’API\n* Consulter le schéma des données\n\n![Catalogue de données](./images/functional-presentation/catalogue.jpg)\n\nUn clic sur le titre ou la description d’une vignette permet de naviguer vers une page de détails du jeu de données.  \n\nLa liste des jeux de données peut être parcourue au moyen d’un mécanisme de scroll infini, aussi bien adapté à une utilisation bureautique ou mobile. Différents outils permettent d’effectuer des recherches dans cette liste, de la filtrer par thématique ou de la trier suivant différents critères.\n"},343:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Connexion des utilisateurs\nsection: 2\nsubsection : 7\nupdated: 2020-12-09\ndescription : Connexion des utilisateurs\npublished: true\n---\nLes utilisateurs peuvent se connecter avec un mot de passe et un email ou en utilisant un compte externe existant tels qu’un compte Gmail via le protocole oAuth2.\n\n![Connexion](./images/functional-presentation/connexion.jpg)\n\n\nUne fois connecté les utilisateurs peuvent personnaliser leur compte.\n\nIl est possible de :\n* définir un avatar\n* définir le prénom et le prénom  \n* définir la date d'aniversaire\n* renouveller le mot de passe\n* relier son compte à un compte github, linkedin, google ou facebook\n* visualiser les differentes organisations de son compte et le role pour chacune des organisations\n* visualiser le nombre d'organisation créées et le nombre d'organisation maximale pour le compte.\n* créer une nouvelle organisation\n* supprimer son compte\n\n![Compte](./images/functional-presentation/compte.jpg)\n"},344:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Connecteurs de catalogues\nsection: 3\nsubsection : 6\nupdated: 2020-12-09\ndescription : Connecteurs de catalogues\npublished: true\n---\n\nLes connecteurs permettent d’interagir avec d’autres plateformes ou services de données, en lecture comme en écriture.\n\nEn écriture, l’idée est de pouvoir pousser des métadonnées dans d’autres catalogues. Un exemple de catalogue est le catalogue de données ouvertes national [data.gouv.fr](https://www.data.gouv.fr/fr/) : les jeux de données publiés à l’aide de Data Fair peuvent être synchronisés automatiquement et toute modification dans les métadonnées est propagée vers le catalogue distant.\n\nLe fait de pousser les métadonnées vers un catalogue plutôt que de se faire moissonner par lui offre plusieurs avantages dont le fait de propager immédiatement les modifications.\n\nLes connecteurs peuvent éventuellement pousser les données vers ces catalogues mais il est préférable d’éviter cela à cause des problèmes de duplication et synchronisation de données. Comme mentionné précédemment, les données sont indexée de manière très performante et il est préférable de requêter les données directement à partir de Data Fair.\n\n![Connecteur vers le catalogue data.gouv.fr](./images/functional-presentation/catalogues.jpg)\n\nEn ce qui concerne la lecture, l’approche est par contre différente et les connecteurs se comportent plutôt comme des moissonneurs de métadonnées et de données. On peut ainsi pour chaque connecteur paramétrer les fréquences de collecte et les types de sources que l’on souhaite moissonner.\n\nLe fait d'intégrer les données à la plateforme permet de les indexer et de pouvoir centraliser les contrôles d’accès, pré-requis indispensable si l’on souhaite pouvoir fusionner les données ou consulter différentes sources sur une visualisation.\n\nIl est possible de rajouter de nouveaux connecteurs de catalogues en suivant les instructions dans [cette section](./interoperate/connectors).\n"},345:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Pages de contenu\nsection: 3\nsubsection : 8\nupdated: 2020-12-09\ndescription : Pages de contenu\npublished: true\n---\n\nLes pages de contenu permettent de créer différents type de pages : articles, pages thématiques autour de plusieurs jeux de données, pages d'actualités, data storytelling, licences, conditions d'utilisation, ... Il est ainsi possible de mettre en avant certaines données et de leur donner encore plus de contexte par exemple, ou de faire des tableaux de bord intégrants différentes données.\n\nLa création d'une page se fait en 3 étapes : On choisit d'abord le modèle de page. Puis on renseigne les différents éléments au moyen d'un formulaire adapté au modèle de page choisi avec une prévisualisation du résultat. On peut enfin publier la page, ce qui permet de préparer des pages en avance et de les publier plus tard. En plus de la saisie de texte libre, il est possible d'intégrer différents type d'éléments : tableau d'un jeu de données, visualisation, liste de jeux de données, intégration de contenu externe, ...\n\nPour accéder aux pages de contenu créées, il est possible de renseigner des liens dans la barre de navigation. Les liens peuvent apparaître directement dans la barre, ou dans un menu ajouté à celle-ci. Il est possible de créer des pages publiques ou des pages privées.\n"},346:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Détails d’un jeu de données\nsection: 2\nsubsection : 3\nupdated: 2020-12-09\ndescription : Détails d’un jeu de données\npublished: true\n---\nPour pouvoir être accessibles au plus grand nombre, les jeux de données sont présentés avec des visualisations adaptées aux données. Les visiteurs du portail peuvent rapidement s’imprégner des données et interagir avec elles.\n\nDifférents outils permettent à un public plus averti de pouvoir aller plus loin (téléchargement, utilisation de l’API, partage, accès aux métadonnées, ...)\n\n![Détails d'un jeu de données](./images/functional-presentation/detail-1.jpg)\n\nLa vignette d’informations présente le producteur des données, la licence associée, la date de dernière mise à jour ainsi que différents boutons d’actions. Ces actions sont les mêmes que celles sur les vignettes du catalogue de données, avec en plus la possibilité de télécharger les données.\n\nEn dessous du titre et de la description des données, les visualisations associées au jeu de données sont présentées avec leur description, ce qui permet de donner du sens à ses données, de raconter une histoire et de mettre en avant différents aspects du jeu de données ou des cas d’utilisations possibles.\n\nLes visualisations sont interactives et il est possible d’accéder à la page de la visualisation en cliquant sur son titre.\n\n![Page de présentation d'un jeu de données](./images/functional-presentation/detail-2.jpg)\n\nEn bas de page, différents boutons permettent de partager la page du jeu de données sur les réseaux sociaux (Facebook, Twitter, Linkedin, …). La page de données possède des métadonnées enrichies qui permettent une meilleure indexation par les moteurs de recherche et un affichage d’une miniature sur les réseaux sociaux. Cette miniature présente la première visualisation associée au jeu de données, et ce côté graphique permet d’augmenter l’engagement des utilisateurs des réseaux sociaux.\n\n![Miniature jeu de données](./images/functional-presentation/detail-3.jpg)\n\nIl est possible de télécharger une partie du jeu de données filtré. L’interface de téléchargement est actuellement en cours d’amélioration pour intégrer la possibilité de télécharger les données dans une grande variété de formats (CSV, TSV, XLS, TXT,GeoJson,…), ainsi que les pièces jointes associées au jeu de données.\n"},347:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Gestion des jeux de données\nsection: 3\nsubsection : 2\nupdated: 2020-12-09\ndescription : Gestion des jeux de données\npublished: false\n---\n\nLes jeux de données sont représentés sous formes de fiches sur la plateforme. Une fiche possède un titre et des informations relatives aux données. Les informations comprennent le nom du fichier, sa taille, le nombre de lignes et les thématiques des données. L'icône du propriétaire des données et l’état de publication sont aussi disponibles sur chaque fiche.\n\n![Fiche d'un jeu de données](./images/functional-presentation/jeu-2.jpg)\n\n### Types de données\n\nIl existe plusieurs types de jeux de données sur la plateforme, les fichiers, les jeux de données incrémentaux, les jeux de données virtuels.\n\n* Les **jeux de données fichiers** correspondent à des données sous format tabulaire ou cartographique chargés sur la plateforme. Plusieurs formats de fichiers sont supportés tels que le CSV, TSV, XLS, TXT,GeoJson, KML, ESRI Shapefile, …\n\n* Les **jeux de données incrémentaux** sont des données stockées en base et sont plutôt adaptés à des données qui évoluent régulièrement. Ils sont mis à jour par API et sont bien adaptés pour des données IOT par exemple.\n\n* Les **jeux de données virtuels** correspondent à des vues d’un ou plusieurs jeux de données. Ils permettent d’avoir un contrôle d’accès plus poussé. Ils peuvent par exemple servir à créer une vue publique, restreinte à certaines lignes et certaines colonnes, d’un jeu de données plus complet qui reste privé.\n\n### Ajout d’un jeu de données\nIl est possible d'importer différentes sources de données sur Data Fair. On peut déjà importer des fichiers directement depuis son ordinateur. Il sera bientôt possible d'importer des données depuis des sources externes comme Airtable ou Google drive.\n\nUne fois les données chargées, elles sont converties dans un format plus standard en interne, puis analysées automatiquement pour déterminer le schéma du jeu de données. Les données sont ensuite indexées puis éventuellement enrichies avec d'autres données externes. Des derniers traitements sont effectués pour calculer des propriétés liées aux données (cardinalités des champs, bornes géographiques, ...) puis le jeu de données est disponible pour pouvoir être édité ou utilisé.\n\nAprès cette étape, les données sont consultables à minima dans un tableau et sont triables et filtrable. Si les concepts de **Latitude** et **Longitude** sont renseignés dans le schéma, les données sont aussi consultable dans une carte. Si elles ont un concept **Images**, une galerie est générée.\n\n### Edition d’un jeu de données\n\nLa page d’édition d’un jeu de données permet de travailler la présentation et la réutilisabilité de ce jeu. Cette page permet de modifier le titre du jeu de données, mettre à jour les données, compléter le schéma des données, sémantiser les données pour qu'elles soient réutilisables dans des visualisations ou pour pouvoir être enrichies via des services complémentaires.\n\n### Schéma des données\n\nLa page d'édition d'un jeu de données permet, entre autres, de renseigner les concepts dans la section *Schéma des données*.  \nLes concepts sont des notions connues pour la plateforme. Ils permettent d'augmenter la réutilisabilité de vos données et de faire le lien entre vos données et les fonctionnalités de la plateforme.\n\n![Schéma d'un jeu de données](./images/functional-presentation/schema.jpg)\n\n\nA l’aide des concepts, vous pouvez par exemple enrichir vos données pour leur donner encore plus de valeur ou bien projeter vos données sur une carte.\nUn concept est unique à une colonne d'un jeu de données. Vous ne pouvez pas avoir deux colonnes différentes avec le même concept pour un jeu de données.\n\nLes concepts sont nécessaires à la représentation de certaines visualisations. Par exemple, vos données ne pourront pas être projetées sur une carte si vous n'avez pas associé les concepts *Latitude* et *Longitude* aux colonnes qui contiennent les valeurs latitude et longitude.\n\nDans la section des *Schéma de données*, on peut renseigner des libellés sur chacun des champs. Ces libellés sont utilisés dans la vue tableau et dans les différentes visualisations du jeu de données.\n\n### Enrichissement des données\n\nIl est possible d'enrichir vos données avec des données issues de l'open data telles que la base SIRENE, le cadastre, les données INSEE et la BAN.  \n* La base SIRENE rassemble les informations économiques et juridiques de plus de 28 Millions d'établissements d'entreprises, dont plus de 11 Millions actifs.\n* Le cadastre permet d'avoir accès aux différentes informations concernant les parcelles. Vous pouvez notamment géocoder des codes parcelles ou encore obtenir les surfaces de vos parcelles.\n* Les données INSEE permettent de récupérer diverses informations sur les divisions administrative (communes, départements, régions)\n* La BAN est la Base d'Adresse Nationale. Elle permet de géolocaliser des adresses ou de trouver des adresses à partir de coordonnées.\n\nEn fonction des données que vous possédez, vous pouvez choisir l'enrichissement qui vous convient et ainsi donner plus de valeur à vos données.\n\n### Permissions de partage de données\n\nUn administrateur peut contrôler finement les permissions d’accès aux données. En fonction du rôle attribué à un utilisateur, celui-ci à le droit d'accéder, de lire ou/et de modifier le contenu de la source.\n\n![Persmissions d'un jeu de données](./images/functional-presentation/permissions.jpg)\n\nOn peut ainsi donner le rôle d’*user* à un groupe de personnes et définir s’ils peuvent accéder et lire une ressource de la plateforme.\n\nIl est aussi possible de gérer les permissions plus finement et de donner les droits à un seul ou plusieurs utilisateurs. La liste des personnes ayant des permissions sur un jeu de données est disponible dans la page d’édition de ce jeu.\n\n### Journal du jeu de données\n\nLe journal d’un jeu de données permet de vérifier l’historique des modifications sur le jeu de données.\n\n![Journal d'un jeu de données](./images/functional-presentation/journal.jpg)\n\nLe journal permet la traçabilité des modifications des jeux de données, des paramètres et des habilitations.\n\n### Pièces jointes\n\nIl est possible d’associer des pièces jointes à chaque ligne d’un jeu de données. Cela se fait en associant une archive au format zip qui contient les fichiers à associer. Il faut aussi qu’il y ait dans le jeu de données une colonne contenant les noms des fichiers à associer à chaque ligne. Deux types de fichiers peuvent être liés aux lignes : des images (png, jpg, …) ou des documents (pdf, docx, xlsx, …). Dans le cas des documents, ils sont indexés *fulltext* par la plateforme et les recherches tiennent compte du contenu de ces documents.\n\nLes pièces jointes peuvent aussi être directement attachées à un jeu de données. On peut par exemple ajouter des fichiers de documentation ou des métadonnées riches.\n"},348:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Extensions\nsection: 4\nupdated: 2020-12-09\ndescription : Extensions\npublished: false\n---\n\nLa société Koumoul propose sous forme d'abonnement un certain nombre de **services distants** et de **visualisations de données** compatibles avec Data Fair (fonds de carte, base des entreprises de France, cadastre, base nationale des adresses, etc.).\n"},349:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Page d’accueil\nsection: 2\nsubsection : 1\nupdated: 2020-12-09\ndescription : Page d’accueil\npublished: true\n---\n\nLa page d'accueil est le point d’entrée principal du portail de données.\nElle présente les derniers jeux de données ajoutés et les dernières visualisations réalisées.\n\nLe portail permet de mettre en avant du contenu éditorial (texte expliquant la démarche ou présentant le portail) et une visualisation mise en avant.\n\n![Page d’accueil](./images/functional-presentation/acceuil.jpg)\n"},350:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Introduction\nsection: 1\nupdated: 2020-12-09\ndescription : Introduction\npublished: true\n---\n**Data Fair** et son écosystème permettent de mettre en œuvre une plateforme de partage (interne ou opendata) et de visualisation de données. Cette plateforme peut être à destination du grand public, qui peut accéder aux données au travers de visualisations interactives adaptées, aussi bien qu’à un public plus expert qui peut accéder aux données au travers des APIs.  \nLe mot **FAIR** fait référence à de la donnée [« Facile à trouver, Accessible, Interopérable et Réutilisable »](https://fr.wikipedia.org/wiki/Fair_data).\n\nLes **jeux de données** chargés sur la plateforme sont indexés. L’indexation d’un jeu de données augmente considérablement sa réutilisabilité et permet de réaliser des recherches textuelles dans des données volumineuses de plusieurs millions d’enregistrements ou dans les visualisations des données.\n\nLa partie **front-office** permet d’accéder au catalogue de jeux de données et de pouvoir rechercher dans celui-ci de différentes manières. Il est possible de consulter directement les jeux de données, que ce soit avec des vues génériques (tableaux, cartes simples, …) ou des visualisations plus spécifiques préconfigurées. Les données sont diffusées au travers de pages qui les présentent sous la forme d’histoires (data storytelling). Enfin les développeurs peuvent accéder à la documentation des diverses **APIs de la plateforme**.\n\nLe **back-office** permet de gérer les différents éléments de la plateforme : comptes utilisateurs, jeux de données et visualisations. Les administrateurs peuvent paramétrer l'environnement et gérer les permissions d’accès aux données et visualisations. Selon leur profil, les utilisateurs du back-office pourront créer, éditer, enrichir, supprimer les jeux de données, les cartes et les graphiques.\nLe back-office permet de créer des **portails de données** (private ou open data) et aussi d’accéder à différentes statistiques d’utilisation des portails (analytics).\n\n### Principaux atouts de la plateforme\n\n* La possibilité de charger des données sous différents formats.\n* La publication des données sous formes de visualisations, de portail et d'API\n* Un cadre méthodologique pour publier des données sémantiques hautement réutilisables\n* L’enrichissement des données pour leur donner encore plus de valeur.\n* Les représentations possibles grâce à un large choix de visualisations interactives (graphiques, cartes, moteur de recherches, ...).\n* Une interface intuitive pour une prise en main rapide\n* La possibilité d’étendre la plateforme avec des visualisations spécifiques\n\n\n### Concepts clés\n\nLes trois concepts centraux sont : les **jeux de données**, les **services distants** et les **applications**. La finalité de ce service est de pouvoir utiliser facilement des **applications** adaptées à différents métiers et alimentées par une combinaison de **services distants** et de données propres à l'utilisateur.\n\nLes **jeux de données** sont créés par les utilisateurs en chargeant des fichiers : le service stocke le fichier, l'analyse et déduit un schéma de données. Les données sont ensuite indexées suivant ce schéma et peuvent être requêtées au travers d'une API Web propre.  \n\nL'utilisateur peut sémantiser les champs des **jeux de données**, par exemple en déterminant qu'une colonne contenant des données sur 5 chiffres est un champ de type Code Postal. Cette sémantisation permet 2 choses : les données peuvent être enrichies et servir à certains traitements si on dispose des **services distants** appropriés, et les données peuvent être utilisées dans des **applications** adaptées à leurs concepts.\n\nEn complément des **jeux de données** basés fichiers, Data Fair permet également de créer des **jeux de données** incrémentaux qui sont éditables en temps réel et des **jeux de données** virtuels qui sont des vues configurable d'un ou plusieurs **jeux de données**.\n\nLes **services distants** mettent à disposition des fonctionnalités sous forme d'APIs Web externes à Data Fair qui respectent les règles d’interopérabilité d’OpenAPI 3.0.  \nUn des objectifs de Data Fair est de permettre à des non informaticiens d'utiliser facilement des APIs tierces avec leurs propres données. Il y a 2 manières d'exploiter les **services distants** : l'utilisateur peut les utiliser pour ajouter en temps différé des colonnes à ses **jeux de données** (exemple géocodage) et les **applications** peuvent les exploiter en temps réel (exemple fonds de carte).\n\nLes **services distants**, connectés sur une instance Data Fair, ne sont pas gérés par les utilisateurs directement mais plutôt mis à leur disposition par les administrateurs.\n\nLes **applications** permettent d'exploiter au maximum le potentiel des données des utilisateurs et des **services distants**. Quelques exemples: un jeu de données contenant des codes de commune peut être projeté sur une carte du découpage administratif français, un jeu de données contenant des codes de parcelles peut être projeté sur le cadastre, etc.\n"},351:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Licences et thématiques\nsection: 3\nsubsection : 1\nupdated: 2020-12-09\ndescription : Licences et thématiques\npublished: true\n---\n\n\nUne licence définit les droits d'utilisation, de partage et d’accès aux données. Les thématiques permettent de mieux cataloguer les données. Data Fair permet de gérer simplement les listes de licences et thématiques dont vous avez besoin pour vos données.\n\nUne licence est référencée par son nom et l'adresse d'une page qui décrit le contenu de cette licence.\n\n![Licences](./images/functional-presentation/licences.jpg)\n\nUne thématique est définie par son nom et sa couleur.\n\n![Thématiques](./images/functional-presentation/thematique.jpg)\n\nLes licences et thématiques ajoutées dans votre configuration peuvent ensuite être assignées aux données. Les licences et thématiques de vos données seront ainsi consultables sur votre portail.\n"},352:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Alertes\nsection: 3\nsubsection : 8\nupdated: 2020-12-09\ndescription : Gestion des alertes\npublished: false\n---\n\nLes utilisateurs enregistrés peuvent paramétrer différentes alertes email ou navigateur. Une liste d’alertes par défaut est présentée dans la catégorie **Notifications**.\n\n![Activer ses notifications](./images/functional-presentation/notify-1.jpeg)\n\nLorsqu’une notification est déclenchée, une pastille colorée est présente sur la cloche en haut à droite. Un clic sur la cloche permet d'accéder à un résumé des alertes précédemment envoyées.\n\n![Liste des alertes](./images/functional-presentation/notify-2.jpg)\n"},353:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Traitements périodiques\nsection: 3\nsubsection : 7\nupdated: 2020-12-09\ndescription : Traitements périodiques\npublished: true\n---\nLes traitements périodiques vont chercher des données à certains endroits, les transforment et les publient sur la plateforme.\n\nLes traitements périodiques se différencient des connecteurs de catalogues sur plusieurs points :\n* Un traitement est limité à un ensemble réduit de sources en entrée et en sortie. Typiquement il peut récupérer des données à un endroit, et des métadonnées à un autre, et déverser les données dans une source de la plateforme.\n* Les fréquences de collecte peuvent être plus élevées : on peut collecter les données avec quelques secondes d’intervalle, ce qui est adapté à la publication des données IOT.\n\n\nLes traitements périodiques se configurent en renseignant le type de source (Données IOT, fichiers issus de facturation, …), le jeu de données correspondant dans la plateforme et la fréquence de collecte.\n\n![Collecteurs](./images/functional-presentation/collecteurs.jpg)\n\n\nIl est également possible d’avoir l’état de réussite du dernier traitement pour chaque collecteur, ainsi que d’accéder à des logs détaillés des dernières collectes de données. Les traitements périodiques peuvent aussi être utilisés pour des mises à jour tous les jours, toutes les semaines, etc..\n\nIl est possible de rajouter de nouveaux traitements périodiques en suivant les instructions dans [cette section](./interoperate/collectors).\n"},354:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Configuration d’un portail de données\nsection: 3\nsubsection : 4\nupdated: 2020-12-09\ndescription : Configuration d’un portail de données\npublished: true\n---\n\nLa configuration du portail de données se fait de manière graphique en deux temps : on travaille sur un brouillon que l'on publie ensuite en version courante. La *version courante* est la version qui est présentée aux différents visiteurs de votre portail, ce qui permet de mettre à jour le portail sans impacter les utilisateurs tant que l'on n'a pas validé le brouillon.\n\n\n![Configuration d'un portail](./images/functional-presentation/configuration-portail.jpg)\n\n\nQuelques éléments de configuration : le logo, l’image d'accueil, la favicon, la couleur de la barre de navigation, la couleur du footer, des éléments de contenu (titre, description, visualisation à mettre en avant, visibilité publique ou privée) et divers éléments de communication (site web, mail de contact et compte twitter)\n\nIl est possible de renseigner un compte [Google Analytics ou Matomo (ex Piwik)](./) pour le suivi d'activité et ainsi avoir des statistiques sur les pages les plus consultées et les données les plus téléchargées.\n"},355:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Portail de données\nsection: 2\nupdated: 2020-12-09\ndescription : Portail de données\npublished: true\n---\n\nLe front office se presente sous la forme d'**un ou plusieurs portails** qui permettent de présenter les jeux de données et les visualisations aux utilisateurs.\n\nUn portail de données est composé d’une page d'accueil, d’une page qui liste les données, d’une page qui liste les visualisations et de pages de contenu.\nLa page d’accueil présente des chiffres clés, les derniers éléments ajoutés ainsi que du contenu mis en avant.\nLa page de données permet d’accéder aux sources de données et de pouvoir effectuer des recherches multicritères, tandis que la page des visualisations permet d’accéder rapidement aux différentes visualisations.\n\nLe portail de données a un design responsive et son affichage est adapté à une grande diversité de terminaux, permettant une utilisation sur poste fixe ou mobile.\n\nUne mire d’authentification est accessible sur toutes les pages du portail pour pouvoir se connecter ou créer un compte. Le compte permet d'acceder aux données privées selon ses droits. Si le portail est sur un autre nom de domaine que Data Fair, il n'est plus possible de s'authentifier au travers de celui-ci et la mire n’apparaît plus : le portail est dans ce cas destiné à de l'open data.\n\nLe footer permet d'intégrer différents liens tels que les conditions d’utilisation, la page de contact et le site institutionnel entre autres.\n\nLe portail est configurable, les points de configuration sont les suivants :\n\n* Titre et déscription\n* Choix des couleurs principale et secondaire\n* Logo, favicone et image d'accueil\n* Afficher les chiffres clés du portail (nombre de jeux de données, enregistrements et visualisations)\n* Choix de la visualisation mise en avant\n* Afficher les liens de la page des données, des visualisations et du contact dans la barre de navigation\n* Afficher les derniers jeux de données et les dernières visualisations ajoutés en page d'accueil\n"},356:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Alertes\nsection: 2\nsubsection : 8\nupdated: 2020-12-09\ndescription : Gestion des alertes\npublished: false\n---\n\nLes utilisateurs enregistrés peuvent paramétrer différentes alertes email.\n\nIl est possible de s'abonner à differents événements d'un jeu de données ou à une thématique :\n\n* Mise à jour d'un jeu de données\n* Mise à jour des métadonnées\n* Ajout d'un jeu de données\n* Ajout d'une réutilisation\n"},357:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Mise en avant des réutilisations de données\nsection: 2\nsubsection : 6\nupdated: 2020-12-09\ndescription : Mise en avant des réutilisations de données\npublished: false\n---\n\nLes utilisateurs connectés sur le portail peuvent partager les réutilisations qu’ils ont réalisées à partir des données du portail.\nUn page spécifique leur permet de renseigner le nom de leur réutilisation, la description, sélectionner le jeu  de données utilisé, une image principale, une URL où la réutilisation est accessible publiquement.\n\nUn administrateur valide la réutilisation avant que celle-ci ne soit affichée sur le portail.\n\nLes utilisateurs peuvent taguer les réutilisations externes qu'ils apprécient via un système de like. Les réutilisations externes peuvent être triées par date, ordre alphabétique ou nombre de like sur la page les mettant en avant.\n\nUn administrateur de la plateforme décide de mettre en avant ou de masquer une réutilisation en particulier.\n"},358:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Gestion des utilisateurs\nsection: 3\nsubsection : 5\nupdated: 2020-12-09\ndescription : Gestion des utilisateurs\npublished: true\n---\n\nPar défaut, il existe quatres rôles différents : utilisateur, contributeur, administrateur et super administrateur.\n\nLes super administrateurs de la plateforme peuvent gérer l'ensemble des organisations et des membres de la plateforme. Ils peuvent aussi configurer le portail de données et gérer les traitements périodiques.\n\nLes administrateurs d’une organisation peuvent gérer les membres :\n\n* Inviter de nouveaux membres par e-mail\n* Changer les rôles des membres\n* Exclure un membre\n\nPermissions par défaut des différents rôles d’une organisation :\n\n| Actions                              | Utilisateur | Contributeur | Administrateur |\n|--------------------------------------|:-----------:|:------------:|:--------------:|\n| Ajout d'un jeu de données            |             |       x      |        x       |\n| Lecture d'un jeu de données          |      x      |       x      |        x       |\n| Modification d'un jeu de données     |             |       x      |        x       |\n| Administration de'un jeu de données  |             |              |        x       |\n| Ajout d'une visualisation            |             |       x      |        x       |\n| Lecture d'une visualisation          |      x      |       x      |        x       |\n| Edition d'une visualisation          |             |       x      |        x       |\n| Administration d'une visualisation   |             |              |        x       |\n| Accès et modification des paramètres |             |              |        x       |\n| Création et modification du portail  |             |              |        x       |\n\nUne personne peut appartenir à plusieurs organisations avec différents rôles dans chaque organisation.\n"},359:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Configuration des visualisations\nsection: 3\nsubsection : 3\nupdated: 2020-12-09\ndescription : Configuration des visualisations\npublished: false\n---\n\nLes visualisations interactives permettent de présenter les données de manière ludique et qu'elles soient rapidement comprises. Elle sont servies par des applications Web légères ([Cette section](./interoperate/applications) décrit en détails la manière de les créer). Elles peuvent être configurées grâce à une interface graphique qui ne **requiert pas de compétences en programmation**.\n\nLe menu de configuration se compose de différentes sections qui diffèrent selon les applications. La plupart du temps, le menu est composé de trois sections : la source de données, les options de rendu et les éléments liés à la navigation. Il est souvent possible de filtrer les données si on ne souhaite pas représenter le jeu de données en entier.\n\n![Configuration d'une visualisation](./images/functional-presentation/configuration-visu.jpg)\n\nUn aperçu donne un rendu de la visualisation. Lorsque l’on réalise des modifications sur le menu de configuration, elles sont directement représentées sur l'aperçu. Il est ainsi possible de modifier et tester rapidement différents rendus de la visualisation. Lorsque le rendu est satisfaissant, l’enregistrement permet de valider les modifications réalisées. Les modifications sont alors visibles pour tous les utilisateurs de la visualsiation.\n\nPar défaut, une visualisation est privée. Elle peut être rendue publique par la suite. Dans tous les cas, il est recommandé de renseigner une description. Cette description sera visible sur la page de consultation de la visualisation.\n\nLa solution proposée offre une grande variété de visualisations en constante progression.\n\n![Differentes visualisations](./images/functional-presentation/valorisations.jpg)\n\n### Visualisations de type carte\n* **Infos parcelles** : Projeter ses données sur le plan cadastral français.\n* **Infos localisations** : Projeter ses données géolocalisées et créer des fiches sur chaque marqueur.\n* **Divisions administratives** : Projeter ses données au niveau de la commune, du département, ou de la région.\n* **Geo Shapes** : Projeter des données contenant des formes géométriques sur une carte.\n\n### Visualisations de type graphique\n\n* **Diagramme de Sankey** : Visualiser ses données de flux.\n* **Diagramme Sunburst** : Visualiser ses données hiérarchiques.\n* **Bar chart race** : Visualiser ses données de classement à travers le temps.\n* **Charts** : Visualiser ses données dans différents type de graphiques, tels que des histogrammes, des graphiques d'aires, de lignes, etc…\n* **Relations et graphes/réseaux** : visualiser des données avec des noeuds, des liens ou des réseaux.\n\n### Visualisations de type textuelle\n\n* **Liste et fiches** : Créer un moteur de recherche pour pouvoir explorer ses données sous formes de fiches.\n* **Nuage de mots** : Générer son propre nuage de mots à partir d’une analyse du contenu de la source.\n"},360:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Présentation d’une visualisation de données\nsection: 2\nsubsection : 5\nupdated: 2020-12-09\ndescription : Présentation d’une visualisation de données\npublished: true\n---\nChaque visualisation est présentée au travers d’une page dédiée ce qui permet de lui associer du contexte, titre et description, et différentes actions. Il est possible d’accéder à la visualisation en plein écran et de récupérer un code HTML qui permet d’embarquer la visualisation dans un autre site web.\n\nTout comme pour les jeux de données, il y a en bas de page différents boutons pour partager la page de la visualisation sur différents réseaux sociaux (Facebook, Twitter, Linkedin, …).  \n\nLa page de la visualisation possède des métadonnées enrichies qui permettent une meilleure indexation par les moteurs de recherche et un affichage d’une miniature sur les réseaux sociaux.\n\n![Détails d'une visualisation](./images/functional-presentation/detail-visualisation.jpg)\n"},361:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Liste des visualisations de données\nsection: 2\nsubsection : 4\nupdated: 2020-12-09\ndescription : Liste des visualisations de données\npublished: true\n---\nTout comme pour les jeux de données, un catalogue des visualisations est disponible avec un moteur de recherche et des outils pour filtrer ou trier les visualisations.\n\nLes visualisations sont présentées au travers de vignettes imagées. Comme pour les jeux de données, ces vignettes possèdent différents boutons d’actions pour pouvoir interagir rapidement avec la visualisation ou naviguer vers une vue plein écran de celle-ci.  \nUn clic sur le titre ou l’image d’une vignette permet de naviguer vers la page de détails de la visualisation.\n\n![Visualisations](./images/functional-presentation/valorisations.jpg)\n"},362:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Configuration\nsection: 2\nupdated: 2020-12-10\ndescription : Configuration\npublished: true\n---\n\n### Variables\n\n*Data Fair* supports quite a large number of parameters that are documented below. We try as much as possible to define sensible default values, still some parameters will almost always need to be overridden, these parameters have **IMPORTANT** in their descriptions.\n\nParameters can be overridden by directly modifying the files, but the recommanded way is to use environment variables.\n\n{{CONFIG_VARS}}\n"},363:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Configuration\nsection: 2\nupdated: 2020-12-10\ndescription : Configuration\npublished: false\n---\n\n### Variables\n\n*Data Fair* supporte un nombre assez important de paramètres qui sont documentés ci-dessous. Autant que possible nous définissons des valeurs par défaut sensées, mais certains paramètres seront presque toujours à définir pour un nouveau déploiement, ces paramètres contiennent **IMPORTANT** dans leurs descriptions.\n\nLes paramètres peuvent être surchargés directement en modifiant les fichiers, mais la manière recommandée est de définir des variables d'environnement.\n\n{{CONFIG_VARS}}\n"},364:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Personnalisation\nsection: 3\nupdated: 2020-12-10\ndescription : Surcharge des libellés\npublished: true\n---\n\n### Internationalization\n\nAll messages in *Data Fair* are externalized and internationalized.\n\nTo add a language you can add a file in [this directory ]((https://github.com/koumoul-dev/data-fair/tree/master/i18n)) either by overwriting the Docker image or submitting a pull request.\n\nTo change some values you can set environment variables when running the service. The table below contains the supported keys. **Warning:** we try to keep the keys as stables as possible, but still some modification may occur between 2 versions of *Data Fair*. If you overwrite some values, you should check it again after each upgrade.\n\n{{I18N_VARS}}\n"},365:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Personnalisation\nsection: 3\nupdated: 2020-12-10\ndescription : Surcharge des libellés\npublished: false\n---\n\n### Internationalisation\n\n**Attention: l'internationalisation de Data Fair est un travail en cours.**\n\nLes libellés de *Data Fair* sont externalisés et internationalisés.\n\nPour ajouter une langue vous pouvez ajouter un fichier dans [ce répertoire](https://github.com/koumoul-dev/data-fair/tree/master/i18n) soit par surcharge de l'image docker soit en soumettant une *pull request*.\n\nPour modifier des valeurs de libellés vous pouvez passer des variables d'environnements au démarrage du service. La table ci-dessous contient la liste des clés supportées.\n\n**Attention :** nous essayons de maintenir ces clés aussi stables que possibles, mais il est toujours possible que quelques modifications surviennent entre 2 versions de *Data Fair*. Si vous surchargez des valeurs, vous devez vérifier que cette surcharge reste effective au moment d'une montée en version.\n\n{{I18N_VARS}}\n"},366:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Installation\nsection: 1\nupdated: 2020-12-10\ndescription : Installation\npublished: true\n---\n\nTODO\n"},367:function(e,n,t){"use strict";t.r(n),n.default='---\ntitle: Installation\nsection: 1\nupdated: 2020-12-10\ndescription : Installation\npublished: false\n---\n\nCette application expose des services Web et interopère avec d\'autres applications du même type. Pour comprendre comment *Data Fair* fonctionne, vous pouvez aller voir la [description technique](https://koumoul-dev.github.io/data-fair/about/technical-overview).\n\nNous proposons une installation simple grâce à l\'utilisation de conteneurs [Docker](https://docker.com) basés sur [l\'image](https://hub.docker.com/r/koumoul/data-fair/) que nous mettons à disposition. Le service peut être installé hors Docker, nous vous conseillons dans ce cas de regarder la documentation pour les développeurs directement dans le [répertoire du projet](https://github.com/koumoul-dev/data-fair).\n\n\n## Prérequis\n\n### Configuration matérielle\n\nCe service a été testé sous Linux (Ubuntu 16.04), vous pouvez utiliser n\'importe quel système Linux compatible avec un démon Docker récent. Le service n\'a pas besoin de beaucoup de ressources de calcul, mais plutôt de mémoire et d\'entrée sortie. La configuration recommandée est la suivante :\n\n * Au moins 2 coeurs, 4 si les base de données tournent sur la même machine\n * 4 Go de RAM, 16 si les base données tournent sur la même machine. Cette quantité peut être plus importante si l\'on souhaite stocker des volumes importants. Dans ce cas nous conseillons d\'installer ElasticSearch sur une autre machine avec plus de mémoire vive, ou de faire un cluster sur plusieurs machines.\n * 50 Go de disque dur, de type SSD. Cette quantité peut être plus importante suivant le volume de données que l\'on souhaite gérer.\n * 100 Mbits de bande passante au minimum, que ce soit en montant ou en descendant.\n\n### Docker\n\nInstallez Docker en suivant la [documentation officielle](https://docs.docker.com/engine/installation/) très complète.\n\nNous conseillons aussi d\'installer [docker-compose](https://docs.docker.com/compose/install/) pour une vision plus claire de la configuration.\n\n### MongoDB\n\nLe service nécessite MongoDB 3.4 ou supérieur pour persister ses données. MongoDB peut être [installé de différentes manières](https://docs.mongodb.com/v3.4/installation/).\n\n**Installer MongoDB manuellement est optionnel**, vous pouvez opter pour une installation globale de tous les services avec Docker (voir plus bas).\n\n### ElasticSearch\n\nLe service nécessite ElasticSearch 6.0 avec le plugin ingest-attachment. Les instruction d\'installation sont [disponibles ici](https://www.elastic.co/guide/en/elasticsearch/reference/6.0/install-elasticsearch.html).\n\n**Installer ElasticSearch manuellement est optionnel**, vous pouvez opter pour une installation globale de tous les services avec Docker (voir plus bas).\n\n### Annuaire d\'utilisateurs\n\nLe service nécessite [Simple Directory](https://koumoul-dev.github.io/simple-directory/) pour sa gestion des comptes.\n\n**Installer Simple Directory individuellement est optionnel**, vous pouvez opter pour une installation globale de tous les services avec Docker (voir plus bas).\n\n## Installation recommandée\n\nPour une installation avec docker-compose vous devez créer un fichier `docker-compose.yml`. Ci-dessous un exemple qui lance non seulement le service data-fair, mais aussi toutes ses dépendances et un proxy HTTP en frontal. Cet exemple peut être assez complet pour une mise en production simple sur une machine, nous allons détailler son paramétrage dans les sections suivantes:\n\n```yaml\nversion: \'3\'\nservices:\n\n  #########################\n  # Dynamic reverse proxy\n  #########################\n\n  traefik:\n    image: traefik:1.7\n    command:\n      - "--docker.exposedbydefault=false"\n      - "--forwardingtimeouts.dialtimeout=5m"\n    restart: always\n    ports:\n      - 80:80\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n\n  redirect-root:\n    image: cusspvz/redirect\n    restart: always\n    labels:\n      - "traefik.enable=true"\n      - "traefik.frontend.rule=Path:/"\n    environment:\n      - REDIRECT=${PROTOCOL}://${DOMAIN}/data-fair\n      - REDIRECT_TYPE=redirect\n\n  #########################\n  # HTTP services\n  #########################\n\n  data-fair:\n    image: koumoul/data-fair:2\n    restart: always\n    volumes:\n      - data-fair-data:/webapp/data\n    labels:\n      - "traefik.enable=true"\n      - "traefik.frontend.rule=PathPrefixStrip:/data-fair/"\n    environment:\n      - DEBUG=upgrade*\n      - PUBLIC_URL=${PROTOCOL}://${DOMAIN}/data-fair\n      - WS_PUBLIC_URL=wss://${DOMAIN}/data-fair\n      - DIRECTORY_URL=${PROTOCOL}://${DOMAIN}/simple-directory\n      - PRIVATE_DIRECTORY_URL=http://simple-directory:8080\n      - OPENAPI_VIEWER_URL=${PROTOCOL}://${DOMAIN}/api-doc/\n      - THUMBOR_URL=${PROTOCOL}://${DOMAIN}/thumbor/\n      - THUMBOR_KEY=${SECRET}\n      - CAPTURE_URL=${PROTOCOL}://${DOMAIN}/capture/\n      - NOTIFY_URL=${PROTOCOL}://${DOMAIN}/notify\n      - NOTIFY_WS_URL=wss://${DOMAIN}/notify\n      - MONGO_URL=mongodb://mongo:27017/data-fair\n      - ES_HOST=elasticsearch:9200\n      - SECRET_IDENTITIES=${SECRET}\n      - SECRET_NOTIFICATIONS=${SECRET}\n\n  simple-directory:\n    image: koumoul/simple-directory:1\n    restart: always\n    volumes:\n      - simple-directory-security:/webapp/security\n    labels:\n      - "traefik.enable=true"\n      - "traefik.main.frontend.rule=PathPrefixStrip:/simple-directory"\n      - "traefik.main.port=8080"\n      - "traefik.maildev.frontend.rule=PathPrefixStrip:/mails"\n      - "traefik.maildev.port=1080"\n      - "traefik.maildev.frontend.auth.basic.users=${MAILDEV_BASIC}"\n    environment:\n      - PUBLIC_URL=${PROTOCOL}://${DOMAIN}/simple-directory\n      - STORAGE_MONGO_URL=mongodb://mongo:27017/simple-directory\n      - ADMINS=${ADMINS}\n      - HOME_PAGE=${PROTOCOL}://${DOMAIN}\n      - MAILS_TRANSPORT=${MAILS_TRANSPORT}\n      - MAILDEV_ACTIVE=${MAILDEV}\n      - MAILDEV_URL=${PROTOCOL}://${DOMAIN}/mails/\n      - I18N_LOCALES=["fr"]\n      - PASSWORDLESS=false\n      - USER_SELF_DELETE=true\n\n  openapi-viewer:\n    image: koumoul/openapi-viewer:1\n    restart: \'always\'\n    labels:\n      - "traefik.enable=true"\n      - "traefik.frontend.rule=PathPrefixStrip:/api-doc/"\n\n  capture:\n    image: koumoul/capture:1\n    restart: \'always\'\n    shm_size: \'1gb\'\n    environment:\n      - PUBLIC_URL=${PROTOCOL}://${DOMAIN}/capture\n      - DIRECTORY_URL=${PROTOCOL}://${DOMAIN}/simple-directory\n\n  notify:\n    image: koumoul/notify:0\n    restart: \'always\'\n    environment:\n      - PUBLIC_URL=${PROTOCOL}://${DOMAIN}/notify\n      - WS_PUBLIC_URL=wss://${DOMAIN}/notify\n      - DIRECTORY_URL=${PROTOCOL}://${DOMAIN}/simple-directory\n      - OPENAPI_VIEWER_URL=${PROTOCOL}://${DOMAIN}/api-doc/\n      - MONGO_URL=mongodb://mongo:27017/notify\n      - SECRET_IDENTITIES=${SECRET}\n      - SECRET_NOTIFICATIONS=${SECRET}\n      - SECRET_SENDMAILS=${SECRET}\n\n  thumbor:\n    image: apsl/thumbor:6.4.2\n    restart: \'always\'\n    environment:\n      - SECURITY_KEY=${SECRET}\n      - STORAGE_EXPIRATION_SECONDS=600\n      - MAX_AGE=600\n    labels:\n      - "traefik.enable=true"\n      - "traefik.frontend.rule=PathPrefixStrip:/thumbor/"\n\n  #########################\n  # Dependencies\n  #########################\n\n  elasticsearch:\n    image: koumoul/data-fair-elasticsearch:7.10.2\n    restart: always\n    volumes:\n      - elasticsearch-data:/usr/share/elasticsearch/data\n    environment:\n      - discovery.type=single-node\n\n  mongo:\n    image: mongo:4.0\n    restart: always\n    volumes:\n      - mongo-data:/data/db\n\nvolumes:\n  data-fair-data:\n  simple-directory-security:\n  elasticsearch-data:\n  mongo-data:\n\n```\n\nRécupérer les dernières versions des images compatibles:\n\n```sh\ndocker-compose pull\n```\n\nPréparez un fichier `.env` à côté du fichier `docker-compose.yml`:\n\n```sh\n# quelques variables d\'environnement nécessaires\nexport ADMINS=\'["alban.mouton@koumoul.com"]\'\nexport SECRET=type some random string here\n```\n\nLa suite du contenu du fichier `.env` est discutée dans les sous-sections suivantes.\n\n### Variante 1 : HTTP local avec envoi de mail virtuel\n\nCette variante est utile pour se faire la main sur la logique de déploiement et tester.\n\nCréez une paire identifiant / mot de passe pour la protection de la boite mail locale:\n\n```sh\nhtpasswd -nbm user passwd\n```\n\nPuis copiez son contenu dans le fichier `.env`:\n\n```sh\nMAILDEV_BASIC="résultat de htpasswd"\nMAILDEV=true\nPROTOCOL=http\nDOMAIN=localhost\n```\n\nLancez les services:\n\n```sh\ndocker-compose up -d --force-recreate\n```\n\nVérifiez l\'état des services:\n\n```sh\ndocker-compose ps\n```\n\nQuand tous les services sont "Up" et "healthy" vous pouvez accéder à [http://localhost](http://localhost).\nPour créer des comptes vous aurez besoin d\'accéder à la boite mail virtuelle [http://localhost/mails](http://localhost/mails) protégée par identifiant = user et mot de passe = passwd.\n\n### Variante 2 : HTTP sur une machine privée et envoi de mails\n\nCette variante peut suffire pour un usage en intranet par exemple.\n\nVous pouvez suivre les instructions précédentes. Mais les variables d\'environnement sont différentes.\n\nLa variable MAILS_TRANSPORT attend un objet JSON de configuration compatible avec la librairie [nodemailer](https://nodemailer.com/smtp/)\n\nModifiez le contenu du fichier `.env`:\n\n```sh\nADMINS=\'["alban.mouton@koumoul.com"]\'\nMAILDEV=false\nPROTOCOL=http\nDOMAIN="nom de la machine"\nMAILS_TRANSPORT=\'{"service": "Mailgun", "auth": {...}}\'\n```\n\nLancez les services:\n\n```sh\ndocker-compose up -d --force-recreate\n```\n\nVérifiez l\'état des services:\n\n```sh\ndocker-compose ps\n```\n\nEt accédez sur "http://nom de la machine".\n\n### Variante 3 : HTTPS sur un serveur\n\nCette variante est une solution complète de déploiement sécurisé. En pré-requis minimal il faut:\n\n  - une machine virtuelle sur internet sécurisée (firewall, etc.) et disposant d\'un démon docker\n  - un nom de domaine configuré pour pointer vers l\'adresse de cette machine virtuelle\n\n**À venir**\n\n### Mises à jour\n\nLa mise à jour s\'effectue en lançant les 2 commandes suivantes :\n\n```sh\ndocker-compose pull\ndocker-compose up -d\n```\n\nPour plus d\'informations sur les commandes disponibles, vous pouvez [consulter la documentation](https://docs.docker.com/compose/).\n'},368:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: API Data Fair\nsection: 1\nupdated: 2020-12-10\ndescription: API Data Fair\npublished: false\n---\n\nTODO\n"},369:function(e,n,t){"use strict";t.r(n),n.default='---\ntitle: API Data Fair\nsection: 1\nupdated: 2020-12-10\ndescription: API Data Fair\npublished: true\n---\n\nData Fair expose une API Rest complète. Une partie de cette API est essentiellement à destination des applications et autres réutilisations des jeux de données. Une autre partie concerne principalement les producteurs de contenu qui souhaitent automatiser leur processus. Dans cette page nous proposons un aperçu de quelques méthodes de publication de contenu. Les exemples ci-dessous ne montrent qu\'un échantillon des capacités de l\'API Data Fair et ne remplacent pas la documentation interactive bien plus complète embarquée dans le service.\n\n### Pré-requis\n\n  - Une installation opérationnelle de Data FAIR, soit locale, soit publique comme sur [koumoul.com](https://koumoul.com/s/data-fair)\n  - Un compte et une clé d\'API avec la portée "Gestion des jeux de données" (voir vos paramètres personnels ou d\'organisation dans le menu en haut à droite)\n  - [curl](https://curl.haxx.se/) ou autre client HTTP à condition d\'adapter les exemples\n\nDéfinissez une variable contenant votre clé d\'API :\n\n```sh\nexport API_KEY="XXXX"\n```\n\nDéfinissez une variable contenant l\'URL de base de votre instance Data Fair :\n\n```sh\nexport Data Fair_URL="https://koumoul.com/s/data-fair"\nexport Data Fair_URL="http://localhost/data-fair"\n```\n\n### Jeu de données simple basé fichier\n\nTéléchargez un fichier CSV d\'exemple :\n\n```sh\ncurl https://raw.githubusercontent.com/koumoul-dev/data-fair/master/test/resources/dataset1.csv -o dataset1.csv\n```\n\nCréez un jeu de données simple à partir de ce fichier avec une requête HTTP multipart :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" --form file=@dataset1.csv $Data Fair_URL/api/v1/datasets\n```\n\nNotez dans le retour que le jeu de données créé s\'est vu attribué un identifiant "id" que vous pouvez conserver pour effectuer des opérations ultérieures sur ce jeu de données.\n\n```sh\nexport DATASET_ID=identifiant que vous venez de recevoir\n```\n\nL\'attribut "status" est à "loaded". Notez que les traitements sur le jeu de données sont exécutés de manière asynchrone, quelques secondes plus tard le statut devrait devenir "finalized" en passant par des étapes intermédiaires. Pour vérifier cela vous pouvez faire un GET sur le jeu de données :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" $Data Fair_URL/api/v1/datasets/$DATASET_ID\n```\n\nL\'attribut page est lui aussi intéressant, il vous permet de naviguer dans un navigateur directement sur la page de description du jeu de données. Pour connaître l\'étendue des capacités de requêtage sur ce jeu de données vous pouvez vous rendre sur l\'onglet API depuis cette page. Voici un exemple basique :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" $Data Fair_URL/api/v1/datasets/$DATASET_ID/lines\n```\n\n### Jeu de données basé fichier avec pièces jointes\n\nTéléchargez un fichier CSV d\'exemple qui contient une colonne de chemins vers des pièces jointes :\n\n```sh\ncurl https://raw.githubusercontent.com/koumoul-dev/data-fair/master/test/resources/dataset-attachments.csv -o dataset-attachments.csv\n```\n\nTéléchargez l\'archive contenant les pièces jointes correspondantes :\n\n```sh\ncurl https://raw.githubusercontent.com/koumoul-dev/data-fair/master/test/resources/files.zip -o files.zip\n```\n\nCréez un jeu de données basé sur le CSV et enrichi avec les pièces jointes de l\'archive grâce à cette requête HTTP multipart :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" --form file=@dataset-attachments.csv --form attachments=@files.zip $Data Fair_URL/api/v1/datasets\nexport DATASET_ID=identifiant que vous venez de recevoir\n```\n\nSi vous visitez la page de ce jeu de données vous verrez un onglet "Fichiers" supplémentaire qui permet de lister les pièces jointes et d\'effectuer des recherches dans leur contenu. En effectuant une requête basique sur le jeu de données vous pouvez constater l\'ajout de champs \\_file.\\* qui sont issus de l\'analyse du contenu des pièces jointes.\n\n### Jeu de données incrémental\n\nCréez un jeu de données incrémental vide avec un schéma minimaliste. Notez l\'attribut "isRest" qui est la condition pour créer ce type de jeu de données :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" --header "Content-Type: application/json" $Data Fair_URL/api/v1/datasets --data \'{\n  "isRest": true,\n  "title": "rest1",\n  "schema": [{ "key": "attr1", "type": "string" }, { "key": "attr2", "type": "string" }]\n}\'\nexport DATASET_ID=identifiant que vous venez de recevoir\n```\n\nAjouter une ligne de donnée :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" --header "Content-Type: application/json" $Data Fair_URL/api/v1/datasets/$DATASET_ID/lines --data \'{\n  "_id": "ligne1",\n  "attr1": "attr1 ligne1",\n  "attr2": "attr2 ligne1"\n}\'\n```\n\nAjoutez/modifiez plusieurs lignes de donnée :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" --header "Content-Type: application/json" $Data Fair_URL/api/v1/datasets/$DATASET_ID/_bulk_lines --data \'[\n  { "_id": "ligne1", "_action": "patch", "attr1": "attr1 ligne1 autre valeur"},\n  { "_id": "ligne2", "attr1": "attr1 ligne2", "attr2": "attr2 ligne2"}\n]\'\n```\n\nVérifiez la donnée :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" $Data Fair_URL/api/v1/datasets/$DATASET_ID/lines\n```\n\n### Jeu de données incrémental avec pièces jointes\n\nCréez un jeu de données incrémental vide avec un schéma qui contient un champ type *pièces jointes* :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" --header "Content-Type: application/json" $Data Fair_URL/api/v1/datasets --data \'{\n  "isRest": true,\n  "title": "rest1",\n  "schema": [\n    { "key": "attr1", "type": "string" },\n    { "key": "attachmentPath", "type": "string", "x-refersTo": "http://schema.org/DigitalDocument" }\n  ]\n}\'\nexport DATASET_ID=identifiant que vous venez de recevoir\n```\n\nAjoutez plusieurs lignes de données avec pièces jointes dans une archive :\n\n```sh\necho \'[\n  { "_id": "line1", "attr1": "test1", "attachmentPath": "test.odt" },\n  { "_id": "line2", "attr1": "test1", "attachmentPath": "dir1/test.pdf" }\n]\' > actions.json\ncurl -v --header "x-apiKey: $API_KEY" $Data Fair_URL/api/v1/datasets/$DATASET_ID/_bulk_lines --form attachments=@files.zip --form actions=@actions.json\n```\n\nVérifiez la donnée :\n\n```sh\ncurl -v --header "x-apiKey: $API_KEY" $Data Fair_URL/api/v1/datasets/$DATASET_ID/lines\n```\n'},370:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Applications\nsection: 2\nupdated: 2020-12-10\ndescription: Applications\npublished: false\n---\n\nTODO\n"},371:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Applications de visualisation\nsection: 2\nupdated: 2020-12-10\ndescription: Applications de visualisation de données\npublished: true\n---\n\nN'importe qui peut développer une nouvelle application de visualisation de données compatible avec Data Fair. Ces applications sont mises à disposition sous forme de services : ce sont des applications Web disponibles en ligne. Une instance de Data Fair fait office de proxy vers les applications configurées et les réexpose en leur communiquant les informations de contexte dont elles ont besoin. Pour pouvoir être intégrée dans une instance Data Fair, une application doit exposer certaines informations.\n\n### Exemples\n\n  - Une application statique développée avec des frameworks modernes : [data-fair-charts](https://github.com/koumoul-dev/data-fair-charts)\n  - Une application statique minimaliste en HTML/JS/CSS pur avec juste un petit peu de jQuery : [data-fair-minimal](https://github.com/koumoul-dev/data-fair-minimal)\n\n### Métadonnées essentielles\n\nUne application expose un fichier HTML, typiquement un fichier `ìndex.html` à sa racine. Ce fichier doit contenir certaines informations, renseignées dans des balises de la section HEAD :\n * **title** : Le titre de l'application, dans une balise title.\n * **description** : La description de l'application, dans une balise meta.\n\n### Gestion des configurations\n\nUne application doit donner à Data Fair le moyen de créer et éditer des configurations cohérentes avec ses besoins. Les configurations sont décrites à l'aide de JSON schéma, en servant à la racine de l'application un fichier `config-schema.json`. Ce fichier peut avoir des annotations particulières qui permettent d'avoir du contrôle sur le formulaire de configuration qui sera généré.\n\nCe formulaire est généré à l'aide de la librairie [vuetify-jsonschema-form](https://github.com/koumoul-dev/vuetify-jsonschema-form/) (v-jsf), la documentation des différente annotations JSON schéma utilisée est [disponible ici](https://koumoul-dev.github.io/vuetify-jsonschema-form/latest/).\n\n### Informations de contexte\n\n#### Côté client\n\nPar simplicité nous privilégions des applications statiques déployables sur un simple serveur Web comme nos applications exemples. Pour ces applications nous avons prévu un mécanisme simple de transmission des informations contextuelles.\n\nLe proxy Data Fair cherche dans le contenu HTML qui transite la chaîne de caractère %APPLICATION% et la remplace par la configuration d'application complète au format JSON. Le code Javascript peut donc récupérer cet objet et l'utiliser pour effectuer un rendu adapté et consommer l'API de Data FAIR en conséquence. L'objet JSON transmis contient les champs suivants :\n\n * **title**: Titre de la visualisation configurée\n * **url**: URL ou est exposée l'application utilisée pour la configuration\n * **id**: Identifiant de la visualisation\n * **status**: Etat de la configuration (brouillon, publié, ...)\n * **configuration**: La structure de cet objet dépend du schéma de configuration de l'application utilisée\n * **href**: Point d'accès de l'API Data Fair permettant de lire / modifier la configuration d'application\n * **page**: Page qui présente la visualisation\n * **exposedUrl**: URL d'exposition de la visualisation, peut être utilisée dans une iFrame ou en accès direct\n * **apiUrl**: URL de l'API Data Fair\n * **captureUrl**: URL vers le service de capture, permet de réaliser des exports image ou impressions PDF\n * **wsUrl**: URL de la web socket Data Fair, utile pour les applications qui manipulent des données mise a jour en temps réel\n\n#### Côté serveur\n\nIl est aussi possible de développer une application avec rendu côté serveur. Dans ce cas le mode de transmission des informations contextuelles est différent.\n\nCes informations sont transmises à l'aide de headers HTTP que le serveur de l'application interprète. Les headers suivant sont transmis par le service :\n * **X-Exposed-Url** : URL d'exposition de la visualisation, peut être utilisée dans une iFrame ou en accès direct\n * **X-Application-Url** : URL à utiliser pour connaître le propriétaire de l'application, les droits de l'utilisateur courant (pour par exemple masquer / afficher un bouton de configuration).\n * **X-API-Url** : URL de l'API de c, ce qui permet ensuite d'accéder aux services distants et aux datasets\n * **X-Directory-Url**: URL vers le service de gestion des utilisateurs.\n\n\n### Outils de développement\n\n#### Serveur de développement Data Fair\n\nLe projet [df-dev-server](https://github.com/koumoul-dev/df-dev-server) permet de simplifier le développement des applications Data Fair.\n\n * Il est plus léger que Data Fair car il n'a pas besoin des différents services en local (bases de données, gestion utilisateurs, ...)\n * Il permet d'avoir déjà des données de disponible en se connectant à des sources distantes\n * Il est plus facile a faire fonctionner sous Windows, car ne nécessite pas Docker\n * Il nécessite par contre une connexion internet pour pouvoir accéder aux données\n"},372:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Collecteurs de données\nsection: 4\nupdated: 2020-12-10\ndescription: Collecteurs de données\npublished: false\n---\n"},373:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Collecteurs de données\nsection: 3\nupdated: 2020-12-10\ndescription : Collecteurs de données\npublished: true\n---\n\nLes collecteurs de données périodiques permettent de mettre à jour certains jeux de données spécifiques de manière automatisée. Il y a principalement 2 cas d'usage, mais on peut en imaginer d'autres :\n * Mise à jour de jeux de données alimentés par des fichiers produits par d'autres traitement automatisés. Typiquement des traitements réalisés par des ETL avec en sortie des fichiers tabulaires ou cartographiques mis à disposition sur un espace d'échange (serveur HTTP ou FTP).\n * Mise à jour de données temps réel alimentés par des flux de données ayant des formats spécifiques. Cela concerne principalement des données IOT.\n\n La collecte de données est assurée par le service open source [Data Fair Processings](https://github.com/data-fair-processings). Lorsque l'on souhaite collecter des données dans un nouveau format ou protocole d'échange, il faut développer un nouveau plugin. On peut distinguer 2 cas de figure. Soit la mise à disposition des données correspond à un standard qui n'est pas encore supporté, et dans ce cas le plugin peut être intégré directement dans Data Fair Processings via une merge request. Soit le plugin reste propriétaire ou correspond à un format/protocole trop spécifique pour être intégré directement dans le projet, et il est rajouté par configuration, lors de l'installation du service.\n"},374:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Connecteurs de catalogues\nsection: 5\nupdated: 2020-12-10\ndescription: Connecteurs de catalogues\npublished: false\n---\n"},375:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Connecteurs de catalogues\nsection: 5\nupdated: 2020-12-10\ndescription: Connecteurs de catalogues\npublished: false\n---\n"},376:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Services externes\nsection: 3\nupdated: 2020-12-10\ndescription: Services externes\npublished: false\n---\n\nTODO\n"},377:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Services externes\nsection: 3\nupdated: 2020-12-10\ndescription: Services externes\npublished: true\n---\n\nUne API peut être utlisée par ce service si elle respecte certains critères. Elle doit être décrite avec un certain formalisme : spécification OpenAPI 3.0, annotations sémantiques particulières et mécanisme d'identification de l'API.\n\n### Spécification OpenAPI 3.0\n\nLe schéma utilisé pour décrire une API est celui de la [spécification OpenAPI 3.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md). Le format à utiliser est JSON (YAML sera supporté prochainement). Les autres formats ne sont pas supportés, en particulier le format Swagger 2.0. Si votre API est décrite dans un autre format, [certains outils](https://github.com/Mermade/awesome-openapi3) permettent de la convertir dans le format OpenAPI 3.0.\n\nNéamoins, une description en pur OpenAPI 3.0 est insuffisante et il faut renseigner des informations complémentaires, notamment pour identifier l'API plus facilement et la sémantiser. Ces informations sont ajoutées en utilisant le format d'extensions autorisé par la spécification est les attributs supplémentaires sont de la forme *x-PropertyName*.\n\n### Identification de l'API\n\nLa spécification OpenAPI 3.0 n'offre pas de mécanisme permettant d'identifier de manière unique un API. Cela pose différents problèmes :\n * Il est difficile de suivre l'évolution de l'API, on ne sait pas si 2 descriptions similaires correspondent à 2 APIs différentes ou a 2 versions différentes d'une même API.\n * Certaines applications nécessitent des fonctionnalités particulières d'API qu'il est difficile de décrire sémantiquement. Une identification unique de l'API permet au moins de dire que les applications ont besoin de cette API (et plus précisément d'une version minimale) en particulier.\n\nPour identifier de manière unique une API, nous avons choisi d'adopter [ces recommandations](https://github.com/zalando/restful-api-guidelines/blob/master/chapters/compatibility.adoc) : il faut renseigner un attribut `x-api-id` dans le bloc `ìnfo`. Plus précisément, il doit avoir cette forme :\n\n```yaml\n/info/x-api-id:\n  type: string\n  format: urn\n  pattern: ^[a-z0-9][a-z0-9-:.]{6,62}[a-z0-9]$\n  description: |\n    Globally unique and immutable ID required to identify the API. The API\n    identifier allows to reveal the history and evolution of an API as a\n    sequence of API specifications. It enables validation tools to detect\n    incompatible changes and incorrect semantic versions.\n```\n\n### Annotations sémantiques\n\nLes annotations sémantiques permettent de préciser ce que font les différentes opérations d'une API. On peut d'une part typer plus précisément les données en entrée et en sortie en utilisant des ontologies (par exemple un code postal est plus précis qu'un entier) et d'autre part déterminer une plus grande diversité d'actions que les verbes HTTP qui sont très restreints.\n\nLe format d'annotations sémantiques que nous avons choisi est décrit dans [cet article](http://www.intelligence.tuc.gr/~petrakis/publications/SOAS4.pdf). *x-operationType* permet de spécifier plus précisément l'action réalisée par l'opération. Nous conseillons d'utiliser le vocabulaire [défini ici](http://schema.org/Action) dans les types spécifiques. Pour pouvoir être utilisé pour de l'enrichissement, un endpoint doit utiliser l'action *Search*. *x-refersTo* permet de typer les entrées et sorties avec des ontologies. Le vocabulaire à utiliser est décrit dans ce projet, dans le fichier `contract/vocabulary.json`.\n"},378:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Analytics\nsection: 8\nupdated: 2020-12-09\ndescription : Analytics\npublished: true\n---\n\nLa gestion des analytics et autres statistiques d'utilisation de la plateforme peut se faire de 2 manières :\n * A l'aide d'un service en ligne externe à la plateforme, tel que Google Analytics\n * Avec un service d'analytics déployé sur la même infrastructure que Data Fair : dans ce cas nous recommandons le logiciel open source [Matomo](https://fr.matomo.org/matomo-on-premise/) (anciennement Piwik).\n\n### Matomo\n\nMatomo est écrit en PHP et nécessite une base de données MySQL, comme par exemple MariaDB. Il est distribué sous forme de conteneurs Docker, et nous recommandons de l'intégrer à la plateforme de cette manière.\n"},379:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Backup\nsection: 11\nupdated: 2020-12-09\ndescription : Backup - Sauvegardes\npublished: true\n---\n\nLe service Backup permet de sauvegarder les données des différents services de la plateforme dans un format compressé.\n\nLes differents base MongoDB, les données de data-fair et les utilisateurs de simple-directory sont enregistrées lors d’une sauvegarde.\nIl est possible de configurer une sauvegarde périodique ou de déclencher une sauvegarde manuellement.\n\n### Stack technique\n\nLe backend de Backup est écrit en NodeJS avec le framework ExpressJS. La persistance est assurée avec MongoDB. Le frontend est réalisé avec les frameworks VueJS, VuetifyJS et NuxtJS. De part son rôle, il est important d'avoir des volumes très fiables avec ce service.\n\nIl n'y a pour l'instant qu'un mode de distribution qui est Docker, et il est recommandé d'opérer ce service dans un environnement tel que Kubernetes.\n"},380:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Capture\nsection: 9\nupdated: 2020-12-09\ndescription : Capture\npublished: true\n---\n\nLe service Capture permet de créer des images à partir de visualisations web ou des documents PDF à partir de pages web.\n\n### Stack technique\n\nLe backend de Capture est écrit en NodeJS avec le framework ExpressJS. Ce service ne possède pas de persistance ni de frontend. Ce service utilise un navigateur headless pour faire les rendu qui est [Puppeteer](https://github.com/puppeteer/puppeteer)\n\nIl n'y a pour l'instant qu'un mode de distribution qui est Docker, et il est recommandé d'opérer ce service dans un environnement tel que Kubernetes.\n"},381:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Connecteurs de catalogues\nsection: 5\nupdated: 2020-12-09\ndescription : Connecteurs de catalogues\npublished: true\n---\n\nLes connecteurs de catalogues permettent d'interagir avec des catalogues de données, pour moissonner leurs données ou au contraire y publier des jeux de données hébergés sur Data Fair. Contrairement aux traitements de données périodiques, les connecteur de catalogue permettent de synchroniser des ensembles de jeux de données.\n\nUne refonte est en cours concernant ces connecteurs qui vont devoir être réaliser sous la forme d'API Rest respectant un certain contrat spécifié au format OpenAPI 3.1.\n"},382:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Data Fair\nsection: 2\nupdated: 2020-12-09\ndescription : Data Fair\npublished: true\n---\n\nData Fair permet d'exposer facilement ses données via une API web, contractualisée et documentée, ce qui permet aux développeurs de les réutiliser facilement dans leurs **applications**. De plus les données peuvent être sémantisées, ce qui permet ensuite de les enrichir avec d'autres données sémantisées. Ainsi, des données qui ont une adresse peuvent par exemple être complétées par des coordonnées GPS, ce qui permet ensuite de les afficher sur une carte.\n\nLe coeur de la solution permet\n* d’indexer des données\n* d’Apifier des données\n* d’enrichir des données\n* de partager des données\n* de configurer les visualisations\n* de gérer les droits d’accès aux données et aux visualisations (publication)\n\n\nCette page présente brièvement les langages de programmation, services et outils utilisés pour réaliser ce projet. Pour les développeurs vous pouvez consulter directement le [README et le code source sur github](https://github.com/koumoul-dev/data-fair).\n\n## Backend\n\nLe backend sert l'application cliente (frontend) et l'API. Le frontend est une application Web dynamique avec un rendu côté serveur partiel et un rendu final côté client en Javascript.\n\n\n### Persistance\n\nCe service utilise 3 types de persistance : fichier, base de données et moteur de recherche.\n\nLa persistance fichier est utilisée pour stocker les jeux de données des utilisateurs : les fichiers sont stockés tels quels sur le système de fichier et sont ensuite analysés puis indexés.\n\nLes informations sur les jeux de données, les services distants et les configurations d'applications sont stockées dans une base de données [MongoDB](https://www.mongodb.com/fr), qui est une base NoSQL open source orientée documents. Les jeux de données incrémentaux sont également stockés dans cette base.\n\nLes datasets sont indexés dans un moteur de recherche open source [ElasticSearch](https://www.elastic.co/fr/products/elasticsearch). Très performant et puissant il permet de faire des recherches textuelles et des agrégations pour des temps de réponse irréprochables.\n\n## Front end\n\nL'interface du service est une applications Web (HTML/CSS/JS).\n\nLe framework Javascript utilisé est [VueJS 2](https://vuejs.org/) complété principalement par [Nuxt](https://nuxtjs.org/) et [Vuetify](https://vuetifyjs.com/en/). Le tout forme un environnement très complet pour développer des interfaces graphiques dynamiques et claires. La documentation sur cet écosystème est bien fournie et de qualité. Ce n'est pas pour rien que VueJS fait partie des projets Github les plus populaires.\n\n## Code source\n\nLe code du backend est écrit en [NodeJS](https://nodejs.org/en/), en respectant la syntaxe ES7. Le code utilise donc massivement les promesses, cachées derrières des mots clés comme *async* ou *await*. Cela permet d'avoir du code clair, concis et facilement compréhensible, tout en étant très performant grâce à une gestion non bloquante des opérations asynchrones.\n\nUn autre aspect de NodeJS est très utilisé dans ce projet : la gestion d'opérations en flux (streams). Cela permet de réaliser des traitements sur des volumes importants sans abuser des ressources de la machine. Ce service demande donc peu de mémoire vive pour fonctionner (mais il en faudra par contre une bonne quantité pour ElasticSearch).\n\nLe serveur web et l'API sont écrits avec le framework [express 4](https://expressjs.com/fr/) qui est utilisé dans de nombreux projets Web NodeJS. Les briques fonctionnelles sont séparées dans des *router* Express, qui permettent par exemple de définir les opérations autour d'un certain concept.\n"},383:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Statistiques d'API\nsection: 12\nupdated: 2020-12-09\ndescription : Récupération des statistiques d'accès à l'API\npublished: true\n---\n\nHTTP logs permet d'extraire des statistiques d'utilisation des API à partir des logs HTTP de services tels que Nginx. Dans la mesure ou Data Fair et les différents services associés utilisent beaucoup les mécanismes de cache pour améliorer les temps d'accès aux ressources, des statistiques précises d'utilisation des différents points d'accès de la plateforme ne peuvent être extraites qu'après coup.\n\nLes logs d'accès aux API sont publiés sur Data Fair sous la forme d'un jeu de données qui peut ensuite être exposé partiellement à des organisation en leur proposant les données filtrées les concernant.\n"},384:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Introduction\nsection: 1\nupdated: 2020-12-09\ndescription : Introduction\npublished: true\n---\n\nL'architecture technique retenu est une plateforme composé de différents services Web. La plupart de ces services sont open source et décrits ici, mais certaines extensions peuvent être disponibles sous la forme de services distants propriétaires :\n\n* **Data Fair**, le coeur de la solution, permet d’indexer, d’Apifier, d’enrichir et de partager facilement ses données\n* **Simple Directory** permet de se connecter au portail et gérer les comptes\n* **Data Fair Portal** permet de créer facilement plusieurs portails de données, pour du partage en opendata ou en interne\n* Les **Connecteurs de catalogues** permettent de se synchroniser avec d'autres catalogues de données, dans les 2 sens\n* Les **Data Fair Processings** permet de programmer des traitements périodiques pour mettre à jour les données et de récolter les données issues de l’IOT\n* **Notify** permet de gérer les alertes et les notifications\n* **Les analytics** peuvent être gérés directement dans la plateforme à l'aide de Matomo\n* **Capture** permet de créer les miniatures et les captures d’images des visualisations\n* **Thumbor** permet les traitement des images des jeux de données\n* **Backup** permet de gérer les sauvegardes de la plateforme\n* Les **services distants** ne sont pas développées dans ce projet : ce sont des applications Web développées et déployées de manière autonome qui respectent les règles d’interopérabilité d’OpenAPI 3.0 avec Data Fair. Ils sont disponibles sous forme d'extensions.\n* Les **visualisations de données** : certaines sont open source, d'autres sont propriétaires (extensions en libre accès ou nécessitant un abonnement). Chaque application de base peut être utilisée autant de fois que désiré pour valoriser différents **jeux de données**. Data Fair permet de stocker et éditer les différents paramètres d'une même application de base.\n\n### Architecture technique complète\n\n![Catalogue de données](./images/technical-architecture/architecture.jpg)\n\n### Authentification\n\nLe mécanisme d'authentification utilisé pour sécuriser les APIs des différents service est le JWT (Json Web Token). La sécurité repose sur des mécanismes de cryptograhie asymétrique (RSA). La session utilisateur est maintenue coté client, ce qui permet d'avoir un backend sans état, et donc scalable. Le backend n'émet pas de JWT : il doit donc être relié à un annuaire [simple directory](https://koumoul-dev.github.io/simple-directory/) qui en émet. Le lien vers cet annuaire permet de télécharger sa clé publique pour ensuite vérifier que les JWT reçus soient valides.\n\n\n### Déploiement\n\nLes différents services sont livré avec [Docker](https://www.docker.com/). Nous recommandons de les déployer et de les opérer dans un environnement tel que Kubernetes.\n\nIl est possible de déployer ces différents service à l'aide de docker-compose également. Cela permet de démarrer plus rapidement, et est particulièrement adapté pour un déploiement en local pour tester la plateforme ou développer des extensions pour celle-ci.\n\nPour plus de détails, vous pouvez consulter la [documentation d'installation](install/install).\n\n### Licences\n\nLes différents services sont *open source*, avec comme licence l'AGPL v3, qui est une licence copyleft : tous ceux mettant le service à disposition d'autres utilisateurs doivent partager les éventuelles améliorations qu'ils y apporteraient. Nous avons choisi de rendre ces services *open source* pour 2 raisons : pour partager des données *open data*, il nous paraît naturel d'utiliser un service *open source*, et quel que soit le type de données, l'ouverture du code offre des garanties de sécurité et de pérennité qui permet aux organisations de déployer ces services sur leurs propres serveurs en toute sérénité.\n"},385:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Notify\nsection: 7\nupdated: 2020-12-09\ndescription : Notify\npublished: true\n---\n\nLe service **Notify** permet de gérer les notifications d'une plateforme. Celles-ci peuvent être transmises dans le navigateur, sur un smartphone ou par email.\n\n### Stack technique\n\nLe backend de Notify est écrit en NodeJS avec le framework ExpressJS. La persistance est assurée avec MongoDB. Le frontend est réalisé avec les frameworks VueJS, VuetifyJS et NuxtJS.\n\nIl n'y a pour l'instant qu'un mode de distribution qui est Docker, et il est recommandé d'opérer ce service dans un environnement tel que Kubernetes.\n"},386:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Data Fair Portal\nsection: 4\nupdated: 2020-12-09\ndescription : Portails de données\npublished: true\n---\n\nData Fair Portal permet de réaliser des portails de données, publics ou privés.\n\nUne organisation peut avoir plusieurs portails, et il sera bientôt possible de réaliser des portails multi-organisations. Chaque portail peut être publié sur un nom de domaine différent, Data Fair Portal agît à la manière d'un reverse proxy pour que chaque requête HTTP soit traitée dans le contexte du portail auquel elle fait référence.\n\nL'authentification avec Simple Directory n'étant possible que sur le même domaine (ou sur un sous domaine de celui pour lequel Simple Directory est configuré), les portails de données sur un autre domaine ne peuvent être que des portails open data.\n\n### Stack technique\n\nLe backend de Data Fair Portal est écrit en NodeJS avec le framework ExpressJS. La persistance est assurée avec MongoDB. Le frontend est réalisé avec les frameworks VueJS, VuetifyJS et NuxtJS. La configuration des pages est faites à l'aide de JSON schémas interprétés par la librairie VJFS.\n\nIl n'y a pour l'instant qu'un mode de distribution qui est Docker, et il est recommandé d'opérer ce service dans un environnement tel que Kubernetes.\n"},387:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Data Fair Processings\nsection: 6\nupdated: 2020-12-09\ndescription : Traitements périodiques\npublished: true\n---\n\nData Fair Processings permet de programmer des traitements périodiques. Ils permettent d'aller chercher des données à certains endroits, les transformer et les publier sur Data Fair. Il est aussi prévu de pouvoir faire prochainement l'inverse. Il permet en pratique de mettre a jour automatiquement des jeux de données spécifiques.\n\n### Stack technique\n\nLe backend de Data Fair Processings est écrit en NodeJS avec le framework ExpressJS. La persistance est assurée avec MongoDB. Le frontend est réalisé avec les frameworks VueJS, VuetifyJS et NuxtJS. Les plugins pour ajouter de nouveaux types de traitements sont à écrire en NodeJS, mais il est prévu dans le futur de pouvoir supporter des plugins écrits dans d'autres langages.\n\nIl n'y a pour l'instant qu'un mode de distribution qui est Docker, et il est recommandé d'opérer ce service dans un environnement tel que Kubernetes.\n"},388:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Simple Directory\nsection: 3\nupdated: 2020-12-09\ndescription : Simple Directory\npublished: true\n---\nLa connexion et la gestion des comptes est assurée par Simple Directory. Il permet de gérer 2 types de comptes : les comptes utilisateurs et les comptes organisation.\n\n### Gestion de session décentralisée\nLe rôle principal de Simple Directory est de permettre aux utilisateurs de s'authentifier dans la plateforme. Cela se fait au moyen de JWT (JSON Web Token) qui sont stockés coté client. Les clients envoient leur JWT à chaque requête HTTP, et chaque service dans l'infrastructure est capable de vérifier qu'un JWT est correct. Cela se fait en vérifiant le jeton avec la clé publique mise à leur disposition par Simple Directory.\n\n\n### Connection des utilisateurs\nLes utilisateurs peuvent se connecter avec un mot de passe et un email ou en utilisant un compte externe existant tel qu’un compte Gmail, Facebook, Github ou Linkedin via le protocole oAuth2.\n\nD’autres protocoles ou fournisseurs d’identités tels que LDAP ou SSO vont bientôt être implémentés.\n\n\n### Stack technique\n\nLe backend de Simple Directory est écrit en NodeJS avec le framework ExpressJS. La persistance est assurée avec MongoDB. Le frontend est réalisé avec les frameworks VueJS, VuetifyJS et NuxtJS. La création et gestion des JWT est assurée grâce à différentes librairies open source.\n\nIl n'y a pour l'instant qu'un mode de distribution qui est Docker, et il est recommandé d'opérer ce service dans un environnement tel que Kubernetes.\n"},389:function(e,n,t){"use strict";t.r(n),n.default="---\ntitle: Thumbor\nsection: 10\nupdated: 2020-12-09\ndescription : Thumbor\npublished: true\n---\n\n[Thumbor](https://github.com/thumbor/thumbor) est un service qui permet d'effectuer des traitements sur les images, dans le but d'améliorer leur affichage :\n * Découpe une image (Crop) pour par exemple avoir des images ayant une proportion bien définie\n * Redimensionnement d'une image pour diminuer sa taille et ainsi gagner en vitesse d'affichage dans le portail ou dans les visualisations\n"},390:function(e,n,t){"use strict";t.r(n),n.default="Data Fair permet d'enrichir et de partager facilement ses données pour pouvoir ensuite les utiliser dans des applications. Le partage des données peut se faire en mode privé (private data) ou public (open data). Les données partageables sont des données de type tabulaire ou géographiques. Data Fair permet de mettre facilement des données à disposition, mais les métadonnées sont minimes et **ce n'est donc pas un service de catalogage**. Il peut donc être un excellent complément à un service comme [udata](https://github.com/opendatateam/udata) utilisé sur le site [data.gouv.fr](http://data.gouv.fr).\n\nCe service permet d'exposer facilement ses données via une API web, **contractualisée et documentée**, ce qui permet aux développeurs de les **réutiliser facilement dans leurs applications**. De plus les données peuvent être **sémantisées, ce qui permet ensuite de les enrichir** avec d'autres données sémantisées. Ainsi, des données qui ont une adresse peuvent par exemple être complétées par des coordonnées GPS, ce qui permet ensuite de les afficher sur une carte. Mais bien qu'il puisse être utilisé pour de l'enrichissement, Data Fair **n'est pas un atelier de traitement de la donnée**. Il est plutôt complémentaire et permet de publier de la donnée prétraitée.\n\n## Concepts clés\n\nLes 3 concepts centraux sont : les jeux de données les services distants et les applications. La finalité de ce service est de pouvoir utiliser facilement des applications adaptées à différents métiers et alimentées par une combinaison de services distants et de données propres à l'utilisateur.\n\nLes jeux de données sont créés par les utilisateurs en chargeant des fichiers : le service stocke le fichier, l'analyse et déduit un schéma de données. Les données sont ensuite indexées suivant ce schéma et peuvent être requêtées au travers d'une API Web propre. L'utilisateur peut **sémantiser les champs des jeux de données**, par exemple en déterminant qu'une colonne contenant des données sur 5 chiffre est un champ de type Code Postal. Cette sémantisation permet 2 choses : les données peuvent être enrichies et servir à certains traitements si on dispose des services distants appropriés, et les données peuvent être utilisées dans des applications adaptées à leurs concepts. Pour une liste des formats de fichiers supportés [consultez cette page](user-guide/format).\n\nEn complément des jeux de données basés fichiers Data Fair permet également de créer des jeux de données incrémentaux qui sont éditables en temps réel et des jeux de données virtuels qui sont des vues re-configurable d'un ou plusieurs jeux de données.\n\nLes services distants mettent à disposition des fonctionnalités sous forme d'APIs Web externes à Data Fair qui respectent quelques [règles d'interoperabilité](interoperate/services). Un des objectifs de Data Fair est de **permettre à des non informaticiens d'utiliser facilement des APIs tierces avec leurs propres données**. Il y a 2 manières d'exploiter les services distants : l'utilisateur peut les utiliser pour ajouter en temps différé des colonnes à ses jeux de données (exemple géocodage) et les applications peuvent les exploiter en temps réel (exemple fonds de carte). Les services distants connectés sur une instance Data Fair ne sont pas gérés par les utilisateurs directement, mais plutôt mis à leur disposition par les administrateurs. La société [koumoul](https://koumoul.com) qui maintient Data Fair propose un certain nombre de services distants compatibles (fonds de carte, base des entreprises de France, cadastre, base nationale des adresses, etc.).\n\nLes applications permettent d'exploiter au maximum le potentiel des données des utilisateurs et des services distants. Quelques exemples: un jeu de données contenant des codes de commune peut être projeté sur une carte du découpage administratif français, un jeu de données contenant des codes de parcelles peut être projeté sur le cadastre, etc. **Les applications ne sont pas développées dans ce projet** : ce sont des applications Web développées et déployées de manière autonome qui respectent quelques [règles d'interopérabilité](interoperate/applications) avec Data Fair. Elles peuvent être open source ou non. Chaque application de base peut être utilisée autant de fois que désiré pour valoriser différents jeux de données. Data Fair permet de stocker et éditer ces différents paramétrages d'une même application de base.\n\n## Contrôles d'accès\n\nLe service permet de contrôler simplement mais de manière puissante les permissions sur les différentes ressources. Les utilisateurs peuvent faire partie de une ou plusieurs organisations, qui peuvent elles même contenir un ou plusieurs utilisateurs. Quand un utilisateur configure un jeux de données ou une application, il peut déterminer quels utilisateurs et organisations y ont accès. Ouvrir un accès à une organisation donne l'accès à tous les membres de cette organisation. Les accès peuvent également être ouverts en public et même les personnes non authentifiées pourront alors accéder à la ressource.\n\nLes **utilisateurs et organisations ne sont pas gérées dans ce service**. Ce service doit être connecté à un annuaire qui implémente le contrat du service [simple-directory](https://github.com/koumoul-dev/simple-directory).\n"},391:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},392:function(e,n,t){"use strict";t.r(n),n.default="Les applications permettent d'exploiter au maximum le potentiel des données. Grâce à la sémantisation, on peut déterminer les applications les plus appropriées aux données que l'on manipule. Il ne reste alors plus qu'à les configurer pour pouvoir les utiliser.\n\nLes applications produites par Koumoul sont prè-configurées et vous pouvez donc les sélectionner lors de l'ajout d'une application. Il est aussi possible d'ajouter des applications externes à plateforme.\n\n\n### Ajout d'une application Infos-Parcelles et Info-Localisations\n\nPour ajouter une application, rendez vous sur la section *APPLICATIONS* puis cliquez sur le bouton *Ajouter une application*.\n\nUn bandeau en bas de page apparaît, cliquez sur *Choisissez une application à configurer* et sélectionner l'application que vous voulez configurer.  \nL'adresse de l'application Koumoul va se compléter automatiquement, vous n'avez donc pas à la modifier. Si vous voulez ajouter une application externe, modifiez ce champ d'adresse.\nVous pouvez choisir le titre de l'application qui sera contenu dans l'adresse d'accès de l'application, vous aurez une adresse de ce type : https://koumoul.com/s/data-fair/app/nom-de-votre-application. Si vous ne changez pas le titre à cette étape, l'adresse d'accès sera de ce type : [https://koumoul.com/s/data-fair/app/infos-parcelles50](https://koumoul.com/s/data-fair/app/infos-parcelles50)\n\nCliquez ensuite sur le bouton *Continuer*. Choisissez le propriétaire de l'application puis cliquez sur le bouton *Continuer* et enfin lancer l'import de l'application.\n\n### Interface d'une application Infos-Parcelles et Info-Localisations\n\nUne fois ajoutée, vous arrivez sur la page *DESCRIPTION* de votre nouvelle application. Comme pour un jeu de données, vous pouvez changer le titre de l'application (si vous le changez ici, cela ne va pas changer l'adresse d'accès) et la description. L'adresse que vous avez en dessous de la description sert à utiliser une application externe, si vous voulez utiliser une application Koumoul, ne changez pas cette adresse.  \n\nVous avez sur votre droite différentes informations, le propriétaire de l'application, la dernière personne qui a modifié l'application avec l'heure et la date de modification, la personne qui a créé l'application avec l'heure et la date de création.\n\nEn bas de la page de *DESCRIPTION*, vous avez la partie *Configuration*. Cliquer sur *Source de données* pour aller chercher le jeu de données que vous avez télécharger sur la plateforme et que vous voulez utiliser avec cette application. Si votre jeu de données n'est pas disponible dans la liste ou par la recherche, vérifier que vous avez télécharger le jeu de données, vérifier le nom de votre jeu de données, vérifier que vous avez bien associé [les concepts](user-guide/concepts) nécessaires au fonctionnement de l'application.\nSélectionnez votre *service de données cartographiques* et enfin votre service *Géocoder* si vous voulez avoir la barre de recherches d'adresses dans votre application.\n\nLorsque vous avez sélectionné votre jeu de données en tant que source de l'application, les différentes colonnes de votre jeu données sont sélectionnables à droite de votre écran. Vous pouvez choisir la colonne de votre jeu données qui servira de légende et vous pouvez aussi choisir les colonnes qui formeront le contenu des infos-bulles de votre application.\n\nUne fois que vous avez ajouté les informations que vous voulez faire apparaître dans votre application, cliquez sur le bouton *Enregistrer*. Vous pouvez modifier autant de fois que vous voulez la configuration de votre application, les changements sont instantanés.\n\nPour accéder à votre application cliquer sur le bouton en haut à droite.\n\nLa section *PERMISSIONS* va vous permettre de définir les droits d'utilisation de votre application. Vous pouvez ouvrir cette application à une organisation, à une seule personne ou la rendre publique. Pour de plus amples informations, concerter la page des [permissions](user-guide/permission).\n\nLa section *PUBLICATION* vous permet, à l'aide d'un [catalogue](user-guide/catalog), de publier votre application sur une autre plateforme.\n\nLa section *JOURNAL* va vous permettre d'avoir l'historique de toutes les actions réalisées sur votre application.\n\nLa section *API* va vous permettre d’accéder à la documentation API de l'application que vous venez de créer.\n\n### Utilisation\n\nUne fois que vous avez configurer correctement votre application, l'utilisation est très simple. Cliquez sur le bouton en haut à droite pour accéder à votre application, vous pouvez maintenant zoomer sur la partie de la carte qui vous intéresse ou vous pouvez utiliser la fonction de recherche d'adresses si vous avez configurer le service *Géocoder* sur votre application.\n\nUne fois votre parcelle/marqueur trouvé, vous pouvez cliquer dessus. Une info-bulle apparaît et continent toutes les colonnes que vous avez sélectionnées lors de la configuration de votre application.\n\nVoici un exemple d'application *Info-Parcelles* sur les [permis de construire  de locaux et logements en France (SITADEL)](https://koumoul.com/s/data-fair/app/permis-de-construire-de-locaux-et-logements-en-france-metropolitaine).\n\nVoici un exemple d'application *Info-Localisations* sur les [Journées européennes du patrimoine en France en 2019](https://koumoul.com/s/data-fair/app/carte-des-evenements-des-journees-europeennes-du-patrimoine-en-france-2019).\n"},393:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},394:function(e,n,t){"use strict";t.r(n),n.default="La section *CATALOGUES* permet d'ajouter des catalogues qui sont des moyens de publication vers d'autres plateformes (création de liens vers vos données).  \nLorsque vous publiez des données sur d'autres plateformes, les données restent stockées chez Koumoul.\n\nVous pouvez publier vos jeux de données ou vos applications.  \nUne fois que vous avez créer un catalogue pour une plateforme, vous pouvez l'utiliser pour autant de ressources que vous voulez.  \nVous devez configurer un catalogue par plateforme.\nIl vous faut des droits de publication sur les différentes plateforme sur lesquelles vous voulez publier. La plus part du temps, il vous suffit juste d'avoir un compte sur la plateforme sur laquelle vous voulez publier.\n\n### Ajout d'un catalogue\n\nPour ajouter un catalogue, rendez vous sur la section [CATALOGUES](https://koumoul.com/s/data-fair/catalogs) puis cliquez sur le bouton *ajouter un catalogue*.  \n\nUn bandeau en bas de page apparaît, cliquez sur *Choisissez un catalogue à configurer* et sélectionnez la plateforme sur laquelle vous voulez publier.  \nL'adresse du catalogue choisi va se compléter automatiquement, vous n'avez donc pas à la modifier.  \nVous pouvez choisir le titre du catalogue, puis cliquer sur le bouton *CONTINUER*.\n\nDans la seconde étape, il faut configurer le catalogue. Cliquer sur le lien *votre compte*, une nouvelle fenêtre va s'ouvrir avec la page d'administration de votre compte sur la plateforme de publication. Créez et copier la clé d'API présente sur cette page puis collez cette clé sur la page de configuration de votre catalogue. Il s'agit d'une étape primordiale pour la publication de vos ressources, si vous rencontrez des souci de configuration, n’hésitez pas à nous [contacter](https://koumoul.com/contact).  \nSi vous ne renseignez pas la section organisation, les jeux de données seront publiés avec le nom du compte présent dans la plateforme de publication.\n\nCliquez ensuite sur le bouton *Continuer*. Le choix du propriétaire du catalogue est important, si vous choisissez l'organisation, tous les administrateurs de cette organisation auront le droit de publier via ce catalogue. Choisissez le propriétaire du catalogue puis cliquez sur le bouton *Continuer* et enfin lancer l'ajout du catalogue.\n\n### Interface d'un catalogue\n\nUne fois la configuration de votre catalogue terminée, vous arrivez sur sa page *DESCRIPTION*. Vous pouvez changer le titre du catalogue, sa description et la clé API ( qui est masquée). Vous avez sur votre droite différentes informations, le propriétaire du catalogue, le lien vers la plateforme vers laquelle va être fait la publication, la dernière personne qui a modifié le catalogue avec l'heure et la date de modification et la personne qui a créé le catalogue avec l'heure et la date de création.\n\nIl n'y a pas d'onglet permission dans les catalogue, il n'y a que le propriétaire du catalogue qui peut utiliser le catalogue pour le moment, c'est pour ça qu'il est important de bien choisir le propriétaire. Les administrateurs d'une organisation sont les propriétaires de leur organisation, il n'y a donc que les administrateurs de votre organisation qui pourront faire des publications grâce à un catalogue organisation.\n\n### Utilisation\n\nPour publier votre jeu de données ou application, rendez vous dans la section *PUBLICATIONS* de la ressource que vous voulez publier. Cliquez sur le bouton *AJOUTER UNE PUBLICATION*, puis choisissez le catalogue sur lequel vous voulez publier.  \nPour un nouveau jeu de données, laissez vide la section *Ajouter comme ressource à un jeu de données du catalogue* et cliquer sur ajouter. Après un court délais, un lien va être créé et vous pourrez le suivre pour voir le rendu de votre publication sur la plateforme externe.  \nSi vous voulez ajouter une ressource à un jeu de données déjà existant sur votre catalogue, cherchez et choisissez le jeu de données dans la section *Ajouter comme ressource à un jeu de données du catalogue* puis cliquer sur ajouter. En cliquant sur le lien, vous pourrez voir le rendu de votre publication sur la plateforme externe.\n\nVous devez faire la démarche de publication pour chacune des ressources que vous voulez publier.\n"},395:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},396:function(e,n,t){"use strict";t.r(n),n.default="Les concepts sont le lien entre les données de votre jeu de données et le service (ou application) que vous voulez utiliser.\n\nLe choix de concepts appropriés pour vos champs est ce qui va permettre de réutiliser vos données dans des applications tierces ou de les enrichir avec des services distants.\n\nPar exemple, votre jeu de données contient des colonnes *Latitude* et *Longitude*.  \nPour le moment, nos services et applications ne savent pas que ces colonnes contiennent des coordonnées qui peuvent être réutilisables (même si c'est le nom de la colonne, nos services ne sont pas encore capable de reconnaître les données).  \nLorsque vous allez faire pointer nos concepts, latitude et longitude vers les colonnes *Latitude* et *Longitude* de votre jeu de données, nos services et applications vont les associer à des données qu'ils peuvent utiliser. Vous pourrez ainsi projeter vos données sur des cartes par exemple.\n\n### Comment associer des concepts\n\nPour associer ces concepts, rendez vous dans la section *DESCRIPTION* de votre jeu de données, ensuite allez dans la partie schéma de cette page. Sur la colonne de droite de votre schéma vous aller pourvoir associer les concepts connus par nos services (ou applications) aux différentes colonnes de votre jeu de données. Un concept ne peut correspondre qu'a une seul colonne.\n\n\n### Liste des concepts nécessaires aux services et applications\nVoici la liste des services et applications Koumoul et les concepts que vous devez associer à votre jeu de données pour leur bon fonctionnement.\n\n#### Services\n\n* Données des entreprises a besoin que les concepts *SIRET* ou *SIREN* (ou les deux) soient associés aux bonnes colonnes dans votre jeu de données.\n* Géocoder a besoin que les concepts *Adresse*, *Rue ou lieu-dit*, *Commune*, *Numéro de rue*, *Code postal*, *Code commune* soient associés aux bonnes colonnes dans votre jeu de données. Si un des concepts n'est pas renseigné dans votre jeu de données, le géocodage sera moins précis (il pourrait même être erroné).\n* Cadastre a besoin que le concept *Code parcelle* soit associé à la colonne contenant les codes parcelles de votre jeu de données.\n* Divisions administratives n'est pas encore disponible pour le moment.\n* Services de données cartographiques. Ce service n'a pas besoin de concepts en entrée. Il est nécessaire pour toutes vos applications cartographiques.\n\n#### Applications\n\n* Infos-Parcelles a besoin que les concepts *Code parcelle*, *Latitude*, et *Longitude* soient associés aux bonnes colonnes dans votre jeu de données.\n* Infos-Localisations a besoin que les concepts *Latitude*, *Longitude* soient associés aux bonnes colonnes dans votre jeu de données.\n* Portail thématique n'a pas besoin de concepts.\n* Observatoire des entreprises n'a pas besoin de concept, il a besoin qu'un service *Données des entreprises* soit configuré en tant que filtre.\n"},397:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},398:function(e,n,t){"use strict";t.r(n),n.default="Les jeux de données sont créés en ajoutant vos fichiers dans notre plateforme.\nPensez à bien nommer vos fichiers. L'adresse d'accès de votre jeu de données est créée en fonction du nom de votre fichier.  \nPour le moment, notre plateforme accepte [cette liste de format de fichiers](user-guide/format).\n\n### Ajout d'un jeu de données\n\nLa démarche d'ajout est assez simple, rendez vous dans la section [JEUX DE DONNÉES](https://koumoul.com/s/data-fair/datasets) puis cliquez sur le bouton *Ajouter vos données*.  \nUn bandeau avec les différentes étapes à réaliser apparaît en bas de votre écran.  \nPremièrement, cliquez sur le bouton *Choisir un fichier* et recherchez sur votre ordinateur, le fichier que vous voulez ajouter sur la plateforme.\nEnsuite, renseignez le propriétaire du jeu de données, cela peut être vous ou une organisation à laquelle vous appartenez.\nEnfin, téléchargez le jeu de données dans notre plateforme. Le temps de téléchargement dépend de la taille de votre fichier et de votre connexion.\n\nAprès cette étape, vous allez être redirigé vers la page de description de votre jeu de données. Les données contenues dans votre fichier sont indexées suivant le schéma correspondant à vos données.  \nCe processus est nécessaire pour pouvoir utiliser nos différents services et applications. Il peut être un peu long et dépend de la taille de votre fichier.\n\nUne fois ce processus terminé, vous aurez un message, si tout c'est bien passé ce message sera en vert, sinon le message sera en rouge et vous aurez accès via le journal à une description détaillée du problème.\n\n### Interface d'un jeu de données\n\nLa page d’accueil d'un jeu de données est la page *DESCRIPTION*.  \nSur cette page vous trouvez les informations concernant votre jeu de données.  \nSur la droite de la page, vous avez le propriétaire, le nom et la taille du fichier que vous avez chargé, la dernière personne qui à modifié le jeu de données, la date et l'heure de la modification, la personne qui a ajouté le fichier, la date et l'heure de l'ajout, le nombre de lignes que contient le fichier et enfin le nombre d'applications liées à ce fichier.  \nSur la gauche de votre page, vous avez la possibilité de changer le titre, renseigner une description, une licence et une provenance de votre jeu de données.  \nEnfin, en bas de votre page de description, vous avez le schéma de votre jeu de données. C'est dans cette partie de la page qu'il faudra associer [les concepts](user-guide/concepts) à votre jeu de données. [Les concepts](user-guide/concepts) sont nécessaires au bon fonctionnement des services et des applications.\n\nVous pouvez voir le contenu de votre jeu de données dans la section *VUE TABLEAU*. Vous pouvez parcourir vos données dans cette section et aussi accéder à une donnée en particulier grâce à la fonction recherche.\n\nLa section *PERMISSIONS* permet de gérer les droits d'accès à votre jeu de données. Vous pouvez le rendre public ou bien le partager à une organisation ou des utilisateurs. Pour plus de détails, consulter la documentation sur les [permissions](user-guide/permission).\n\nLa section *ENRICHISSEMENT* permet de choisir et d'utiliser les services que vous avez préalablement configuré. Si vous n'avez renseigné aucun concept ou configuré aucun service, vous aurez ce message : Aucun enrichissement possible. Pour plus de détails, consulter la documentation sur [l'enrichissement](user-guide/enrichment).\n\nLa section *PUBLICATION* permet de choisir et d'utiliser les catalogues que vous avez préalablement configuré. Si vous n'avez configuré aucun catalogue, vous n'aurez aucun choix lors de l'ajout d'une publication et votre ressource ne pourra donc pas être publiée. Pour plus de détails, consulter la documentation sur [les catalogues](user-guide/catalog).\n\nLa section *JOURNAL* permet d'avoir un historique de toutes les actions réalisées sur votre jeu de données.\n\nLa section *API* permet d'avoir une documentation de l'api. Elle destinée aux développeurs et va leur permettre de bien comprendre comment réutiliser les données pour les intégrer dans d'autres applications. Cette documentation permet de faire des appels aux différents points d'accès de l'API pour bien comprendre comment elle marche.\n\nSur toutes les pages, vous avez accès au bouton en haut à droite pour supprimer, télécharger votre fichier ou télécharger le fichier enrichi (si vous avez effectué un enrichissement sur votre fichier).\n\n### Mise à jour d'un jeu de données\n\nSi vous voulez mettre à jour un jeu données présent sur notre plateforme. Le nom du fichier à jour doit être le même que celui de la plateforme.\n\nIl faudra ensuite réaliser les même étapes que lors d'un ajout de fichier.\n\nRendez vous dans la section [JEUX DE DONNÉES](https://koumoul.com/s/data-fair/datasets) puis cliquez sur le bouton *Ajouter vos données*.  \nUn bandeau avec les différentes étapes à réaliser apparaît en bas de votre écran.  \nPremièrement, cliquez sur le bouton *Choisir un ficher* et recherchez sur votre ordinateur, le fichier doit avoir le même nom que celui présent dans la plateforme.\nEnsuite, renseignez le propriétaire du jeu de données de la plateforme.  \nEnfin, on va vous demander si vous voulez \"Créer un nouveau jeu de données\" ou bien \"Mettre à jour les données du jeu Nom-de-votre-jeu\".  \nChoisissez l'option de mise à jour et cliquez sur le bouton *Lancer l'import*. Le téléchargement du nouveau jeu de données dans notre plateforme se lance. Le temps de téléchargement dépend de la taille de votre fichier et de votre connexion.\n\nLors de cette manipulation, seulement vos données ont été mise à jour. Si vous aviez réaliser un enrichissement sur votre ancien jeu de données, il faudra refaire l'enrichissement pour que les nouvelles données soient enrichies.\n"},399:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},400:function(e,n,t){"use strict";t.r(n),n.default="Suivant les services distants que vous avez configurés, et les concepts que vous avez assigné aux champs de vos données, il peut être possible d'enrichir les données. On peut par exemple rajouter des champs latitude et longitude si des champs décrivant une adresse sont présents, ou un secteur d'activité si un champ correspond à un SIRET d'un établissement.\n\nL’enrichissement va vous permettre de compléter et d’améliorer vos données grâces à nos services.\nChaque service va vous permettre de réaliser un type d'enrichissement.\n\nPour le bon fonctionnement de l'enrichissement, il vous faut :\n* Un jeu de données contenant les données minimales d'entrée d'un service\n* Ajouter ou avoir accès au service dont vous avez besoin\n* Associer les [concepts](user-guide/concepts) nécessaire au bon fonctionnement du service.\n\nSi vous voulez compléter vos données grâce à la base SIREN, vous aurez recours au service *Données des entreprises*).  \nPour géolocaliser des adresses, vous allez utiliser le service de *Géocodage*.  \nPour géolocaliser des codes parcelles, vous allez utiliser le service *Cadastre*.\n\nLes données fournies par enrichissement sont automatiquement associées à des concepts connus quand c'est possible.\n\n### Enrichissement via le service Données des entreprises\n\nUn fois votre service *Données des entreprises* configuré et votre [jeu de données](user-guide/dataset) téléchargé sur notre plateforme, vous pouvez enrichir votre jeu de données qui contient des codes SIRET ou SIREN.\n\nPour obtenir des informations de la base SIREN sur les entreprises, allez dans la section *DESCRIPTION* de votre [jeu de données](user-guide/dataset). Dans la partie schéma de cette page, associez [les concepts](user-guide/concepts) SIRET ou SIREN (ou les deux) aux colonnes contenant les codes SIRET et SIREN de votre jeu de données, puis cliquez sur le bouton *APPLIQUER* en haut à droite de la section schéma.\n\nUne fois le(s) concept()s associé(s), allez dans la partie *ENRICHISSEMENT* de votre jeu de données. Vous avez le service que vous venez d'ajouter qui est affiché (si le service n'est pas affiché, vérifiez bien que vous avez bien associé les concepts et aussi que vous avez bien les droits pour utiliser le service). Sélectionner le, puis sélectionner les informations que vous voulez ajouter dans votre jeu de données à partir du menu déroulant et enfin cliquez sur le bouton *Appliquer*. Attendez la fin de l'enrichissement. Dans la section *VUE TABLEAU* vous avez autant de nouvelles colonnes que vous avez sélectionné de données dans le menu déroulant de votre service dans la section *ENRICHISSEMENT*.\n\nSi vous avez ajouté les latitudes et longitudes, vous pouvez configurer une application *Infos-localisations* pour avoir un meilleur rendu de vos données.\n\n### Enrichissement via le service Géocodage\n\nUn fois votre service *Géocodage* configuré et votre [jeu de données](user-guide/dataset) téléchargé sur notre plateforme, vous pouvez enrichir votre jeu de données qui contient vos adresses.\n\nPour géocoder des adresses d'un jeu de données, il faut tout d'abord télécharger votre [jeu de données](user-guide/dataset) sur notre plateforme. Puis allez dans la section *DESCRIPTION* de votre jeu de données. Dans la section schéma de cette page, associez les [concepts](user-guide/concepts) *Adresse*, *Rue ou lieu-dit*, *Commune*, *Numéro de rue*, *Code postal*, *Code commune* aux colonnes correspondantes de votre jeu de données, puis cliquez sur le bouton *APPLIQUER* en haut à droite de la section schéma.  \nSi un des concepts n'est pas renseigné dans votre jeu de données, le géocodage sera moins précis (il se peut même qu'il soit erroné, tout dépend de la précision de vos données).\n\nUne fois les concepts associés, allez dans la partie *ENRICHISSEMENT* de votre jeu de données. Vous avez le service que vous venez d'ajouter qui est affiché (si le service n'est pas affiché, vérifiez bien que vous avez bien associer les concepts et aussi que vous avez bien les droits pour utiliser le service). Sélectionner le, puis sélectionner la latitude et la longitude dans le menu déroulant et enfin cliquez sur le bouton *Appliquer*.  \nAttendez la fin de l'enrichissement. Vous avez une nouvelle section *CARTE* qui est apparue entre *VUE TABLEAU* et *PERMISSIONS*, elle vous permet d'avoir un aperçu de vos données sur une carte. Dans la section *VUE TABLEAU* vous avez deux nouvelles colonnes latitude et longitude qui sont présentes avec les coordonnées pour chacune des lignes de votre jeu de données.\n\nVous pouvez maintenant configurer une application *Infos-localisations* pour avoir un meilleur rendu de vos données.\n\n### Enrichissement via le service cadastre\n\nUn fois votre service *Cadastre* configuré et votre [jeu de données](user-guide/dataset) téléchargé sur notre plateforme, vous pouvez enrichir votre jeu de données qui contient vos codes parcelles.\n\nPour géocoder des codes parcelles valides d'un jeu de données, les codes parcelles doivent être composé de 14 caractères : *code commune INSEE* de 5 chiffres + *code section cadastre* de 5 caractères + *numéro parcelle cadastre* de 4 chiffres. Par exemple *56197037ZC0063* est un code valide de 14 caractères.\n\nUne fois que vous êtes en disposition d'un jeu de données avec des codes parcelles valides, téléchargez votre [jeu de données](user-guide/dataset) sur notre plateforme.  \nPuis, allez dans la section *DESCRIPTION* de votre jeu de données. Dans la partie schéma de cette page, associez [le concept](user-guide/concepts)  *Code parcelle* à la colonne contenant les codes parcelles de votre jeu de données, puis cliquez sur le bouton *APPLIQUER* en haut à droite de la section schéma.\n\nEnsuite, allez dans la partie *ENRICHISSEMENT* de votre jeu de données. Vous avez le service que vous venez d'ajouter qui est affiché (si le service n'est pas affiché, vérifiez bien que vous avez bien associer les concepts et aussi que vous avez bien les droits pour utiliser le service). Sélectionner le, puis sélectionner la latitude et la longitude dans le menu déroulant et enfin cliquez sur le bouton *Appliquer*.  \nAttendez la fin de l'enrichissement. Vous avez une nouvelle section *CARTE* qui est apparue entre *VUE TABLEAU* et *PERMISSIONS*, elle vous permet d'avoir un aperçu de vos données sur une carte. Dans la section *VUE TABLEAU* vous avez deux nouvelles colonnes latitude et longitude qui sont présentes avec les coordonnées pour chacune des lignes de votre jeu de données.\n\nVous pouvez maintenant configurer une application *Infos-Parcelles* pour avoir un meilleur rendu de vos données.\n"},401:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},402:function(e,n,t){"use strict";t.r(n),n.default="Le tableau suivant reprend les formats de fichier pris en charge par Data-fair pour créer des jeux de données :\n\nType | Description | Format | Format archivé (.zip)\n----------|---------------------------|--------------------|--------------------\nCSV | Format de fichier de données tabulaires sous forme de valeurs séparées par des virgules | .csv  | **-**\nTSV | Format ouvert de texte représentant des données tabulaires sous forme de valeurs séparées par des tabulations | .tsv  | **-**\nOpenDocument | Format de fichier ouvert de données pour les applications bureautiques | .ods, .fods | **-**\nXLSX | Format de fichier tableur Office Open XML | .xlsx | **-**\nXLS | Format de fichier tableur Excel | .xls | **-**\nDBF |Format de fichier de base de données DBase | .dbf | **-**\nTXT | Format de fichier texte qui ne contient qu'une suite de caractères  | .txt | **-**\nDIF | Format de fichier texte de données ASCII | .dif | **-**\nGeoJSON | Format de de fichier de données géospatiales simples utilisant la norme JSON | .geojson | **-**\nKML/KMZ | Format destiné à la gestion de l'affichage de données géospatiales basé sur le formalise XML | .kml, .kmz | **-**\nGPX |  Format de fichier permettant l'échange de coordonnées GPS | .gpx ou .xml | **-**\nESRI Shapefile |  Format de fichier pour les systèmes d'informations géographiques  |**-** | .shp, .dbf et .shx (.prj optionel)\n\n<br></br>Pour le moment, seules les données Shapefile doivent etre contenues dans un fichier .zip.  \n\nSi vous avez un besoin différent ou que vous rencontrez un problème de compatibilité, n’hésitez pas à nous [contacter](https://koumoul.com/contact).\n"},403:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},404:function(e,n,t){"use strict";t.r(n),n.default="Bonjour et bienvenue sur la plateforme de diffusion de données de [Koumoul](https://koumoul.com).  \nNotre plateforme vous permet d’héberger, partager, enrichir et visualiser vos données grâce à nos différents services et applications. Si vous avez des questions, n’hésitez pas à nous [contacter](https://koumoul.com/contact).\n\n### Présentation de l'interface\n\nLa [plateforme](https://koumoul.com/s/data-fair/) est divisée en plusieurs parties :\n* Les [Jeux de données](https://koumoul.com/s/data-fair/datasets) qui sont créés à partir de vos fichiers de données. Dans cette section vous allez aussi retrouver les données de votre organisation ou bien les données qui ont étés partagées en public et donc accessibles à tout le monde.\n* Les [Services](https://koumoul.com/s/data-fair/remote-services) qui vont vous servir à améliorer vos données grâce à [l'enrichissement](user-guide/enrichment) ou à utiliser des données à jour directement dans les applications (comme des fonds de carte par exemple).\n* Les [Applications](https://koumoul.com/s/data-fair/applications) qui vont vous permettre d'avoir un visuel de vos données et d'interagir avec elles.\n* Les [Catalogues](https://koumoul.com/s/data-fair/catalogs) qui vont vous permettre de publier vos données sur d'autres plateformes telles que [data.gouv.fr](https://www.data.gouv.fr/fr/)\n* La *Documentation* vous permet d'avoir accès au [manuel utilisateur](https://koumoul.com/s/data-fair/user-guide), à différentes [vidéos](https://videos.koumoul.com/) explicatives, aux tutoriels postés régulièrement sur notre [notre blog](https://koumoul.com/blog), à la documentation de l'[API racine](https://koumoul.com/documentation/developer/data-fair) et à la [documentation développeurs](https://koumoul.com/documentation/developer) pour les plus techniques d'entre vous.\n\n### Jeux de données\n\nDans cette section vous allez retrouver la liste des fichiers que vous avez chargé sur la plateforme. Vous allez pouvoir ajouter des données, décrire chacun de vos [fichiers de données](user-guide/dataset), associer [des concepts](user-guide/concepts), donner les [permissions](user-guide/permission) pour chacun de vos jeux de données,  [enrichir](user-guide/enrichment) et [publier](user-guide/catalog) vos données.\n\nC'est la partie la plus importante, c'est dans cette section que vous allez pouvoir réaliser la majorité des manipulations sur vos données.\n\n### Services\n\nDans cette partie de la plateforme, vous allez pouvoir ajouter et configurer les différents services que nous vous proposons pour pouvoir améliorer vos données en les [enrichissant](user-guide/enrichment).\n\nPour le moment, nous mettons à votre disposition cinq services :  \n* Données des entreprises\n* Géocoder\n* Cadastre\n* Divisions administratives n'est pas encore disponible pour le moment.\n* Services de données cartographiques. Ce service n'a pas besoin de concepts en entrée. Il est nécessaire pour toutes vos applications cartographiques.<br></br>\n\n [L'enrichissement](user-guide/enrichment) de vos données s'effectue dans la section [Jeux de données](https://koumoul.com/s/data-fair/datasets) une fois que vous avez configuré vos services et associé [les concepts](user-guide/concepts) nécessaires à votre jeu de données.\n\n### Applications\n\nDans cette section, vous allez pouvoir ajouter et configurer les différentes applications que nous vous proposons pour pouvoir visualiser vos données.  \nPour le moment, nous mettons à votre disposition quatre applications :\n* Infos-Parcelles\n* Infos-Localisations\n* Portail thématique\n* Observatoire des entreprises qui n'a pas besoin de concept. Cette application fonctionne grâce au service *Données des entreprises* configuré en tant que filtre.\n\n<br>\n\nPour chaque nouvelle réutilisation d'un jeu de données, vous aurez une nouvelle application à ajouter et à configurer.\n\n### Catalogues\n\nDans cette section, vous allez pouvoir ajouter et configurer les différents [catalogues](user-guide/catalog) que vous voulez utiliser. Ils vous permettront d'importer des données ou de partager vos données sur d'autres plateformes. Pour le moment les catalogues permettent seulement de partager vos données, la fonctionnalité d'importation sera développé plus tard.\n"},405:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},406:function(e,n,t){"use strict";t.r(n),n.default="Les permissions vous permettent de gérer l'accès à vos ressources (jeux de données, services, applications, catalogues) à des personnes, à des organisations, au public.\n\n\n### Écriture et administration : le propriétaire\n\nLes droits d'écriture et d'administration ne peuvent pas être donnés par la page de permission.  \nUne ressource de la plateforme ne peut être modifiée ou administrée que par le(s) propriétaire(s) de cette ressource. Il faut donc bien choisir le propriétaire de votre ressource.\n\nLe propriétaire peut être vous même, une organisation au complet, ou un rôle d'une organisation.  \nPar défaut, il n'y a que le propriétaire qui à accès à cette ressource.\n\nLes administrateurs d'une organisation sont toujours propriétaires d'une ressources appartenant à un des rôles de leur organisation. Lorsque vous ajoutez une ressource, si vous choisissez un rôle d'une organisation comme propriétaire, les administrateurs de l'organisation et le rôle que vous avez choisi seront les propriétaires de la ressource.\n\nPar exemple, vous avez quatre rôles dans votre organisation : *administrateur*, *contributeur*, *réutilisateur* et *utilisateur*.\nLorsque vous ajoutez un jeu de données dans la plateforme et que vous choisissez comme propriétaire les *contributeur*. Les *contributeur* et les *administrateur* pourront modifier et administrer ce jeu de données. Pour le moment il n'y a que ces deux rôles qui ont accès au jeu de données. Vous devez ajouter des permissions de lecture aux autres rôles de votre organisation pour qu'ils aient accès au jeu de données.\n\n### Lecture et lister : ajout de permissions\nLa permission de lecture permet de donner l'accès à votre ressource. On peut donner la permission de lecture sans donner le droit de lister.\nLa permission de lister permet de donner le droit d'afficher, dans les différentes listes de la plateforme, votre ressource. Pour donner la permission de lister, il faut obligatoirement avoir donné le droit de lecture.\n\nPour attribuer les permissions vous devez aller sur la page *PERMISSIONS* de la ressource que vous voulez partager.\n\nSi on reprend notre exemple précédent, le propriétaire du jeu de données est le rôle *contributeur* de votre organisation. Un *contributeur* ou *administrateur* de votre organisation peut donc aller sur la page *PERMISSIONS* du jeu de données et ajouter le droit **lecture** au rôle *utilisateur*.  \nLes *utilisateur* pourront maintenant accéder à votre jeu de données par un lien sur lequel ils auront cliqué sur une page web ou un lien que vous leur avez donné.  \nSi maintenant, l'*administrateur* donne le droit **lecture** et **lister** au rôle *réutilisateur* de votre organisation. Vos *réutilisateur* auront accès à votre jeu données à partir de notre plateforme. Autrement dit, il sera listé dans leur section [JEUX DE DONNEES](https://koumoul.com/s/data-fair/datasets), ils pourront cliquer dessus et accéder aux données du jeu en lecture.  \nSi vous avez associé [les concepts](user-guide/concepts) à votre jeu de données, lorsque les *réutilisateur* vont configurer une application, le jeu sera listé comme source possible de leur application. Si une personnes, avec le rôle *utilisateur*, configure une application, elle n'aura pas le jeu de données de listé dans la source de l'application, vu qu'elle n'a que la permission de **lecture**, elle n'a pas non plus le jeu listé dans sa section [JEUX DE DONNEES](https://koumoul.com/s/data-fair/datasets) mais elle peut tout de même accéder aux données via un lien externe.  \nL'*administrateur* peut aussi donner le droit de lecture et de lister à une autre organisation s'il le désire. Lorsqu'il donne ces droits, tous les rôles de l'organisation auront accès aux données de la ressource.\n\n### Utiliser : les Services\n\nPour les [SERVICES](https://koumoul.com/s/data-fair/remote-services), il existe une permission supplémentaire : **Utiliser**. Cette permission donne, comme elle l'indique, le droit d'utiliser le service à une personne ou à une organisation.\n\n### Le mode expert\n\nIl existe aussi un mode expert qui détaille les permissions. Grâce à ce mode, vous pouvez donner des permissions plus affinées et voir en détail quels sont les droits que vous donnez en mode normal.   \n\nUn droit coché en gris est actif.\n"},407:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},408:function(e,n,t){"use strict";t.r(n),n.default="Les services sont des fonctionnalités externalisées. Ils permettent par exemple de récupérer des données supplémentaires ou de faire des traitements sur certaines données. Ces services distants sont optionnels pour pouvoir exposer ses données, mais nécessaires si l'on souhaite faire de l'enrichissement ou utiliser certaines applications. Ils se présentent sous la forme d'APIs Web qui peuvent être ouvertes ou fermées, dans le 2e cas il faut alors paramétrer des codes d'accès à ces APIs.\n\nLes services Koumoul sont accessibles avec des configurations par défaut.  \nPour des services Koumoul dont vous êtes le propriétaire, par défaut, il n'y a que vous qui avez accès aux services. Lorsque vous utilisez ces services, vous utiliser les quotas de votre compte personnel Koumoul.\nPour des services Koumoul organisation, par défaut, les *administrateurs* de l'organisation sont les propriétaires et tous les rôles de l'organisation peuvent lister, lire et utiliser les services de l'organisation. Il n'y a donc que les *administrateurs* de l'organisation qui peuvent modifier et administrer les services créés par défaut. Lorsque vous utilisez ces services, vous utiliser les quotas du compte de votre organisation.\n\n### Ajout d'un service\n\nAllez dans la section [SERVICES](https://koumoul.com/s/data-fair/remote-services) de data-fair, puis cliquez sur le bouton *Ajouter un service*.  \nUn bandeau en bas de page apparaît, cliquez sur *Choisissez un service à configurer* et sélectionnez le service que vous voulez ajouter.  \nL'adresse du service de Koumoul va se compléter automatiquement, vous n'avez donc pas à la modifier. Si vous voulez ajouter un service externe, vous devez mettre l'adresse du service à cet endroit.\nCliquez ensuite sur le bouton *Continuer*. Choisissez le propriétaire du service puis cliquez sur le bouton *Continuer* et enfin lancer l'import du service.\n\n### Configuration du service\n\nUne fois votre service ajouté, vous arrivez sur la page *DESCRIPTION* du service. Comme pour un jeu de données, vous pouvez changer le titre du service et la description. Vous avez sur votre droite différentes informations, le propriétaire du service, l’hébergeur du service, le contact, la version du service, les termes d'utilisation du service et le nombre d'applications qui utilisent ce service.\n\nEn bas de la page de *DESCRIPTION*, vous avez [les concepts](user-guide/concepts) qu'il faut associer à un jeu de données pour avoir accès à [l'enrichissement](user-guide/enrichment) via ce service. On vous explique comment réaliser l'enrichissement un peu plus loin dans cette page.\n\nLa section *CONFIGURATION* permet de configurer le service s'il s'agit d'un service externe. Si vous utilisez les services Koumoul, vous n'aurez pas à modifier cette partie, sachez juste qu'il est possible d'importer des services externes dans la plateforme.\n\nLa section *PERMISSIONS* va vous permettre de définir les droits d'utilisation du service. Vous pouvez ouvrir ce service à une organisation, à une seule personne. Pour de plus amples informations, concertez la page des [permissions](user-guide/permission).\n\nLa section *API* va vous permettre d’accéder à la documentation API du service que vous venez de créer.\n\n### Utilisation\n\nUne fois votre service ajouté et configuré, pour enrichir votre jeu de données, allez dans la section *DESCRIPTION* de votre [jeu de données](user-guide/dataset). Dans la partie schéma de cette page, associez [les concepts](user-guide/concepts) d'entrées, se trouvant en bas de la page description de votre service, aux colonnes contenant les données correspondantes de votre jeu de données. Cliquez sur le bouton *APPLIQUER* en haut à droite de la section schéma.\n\nUne fois le(s) concept()s associé(s), allez dans la partie *ENRICHISSEMENT* de votre jeu de données. Vous avez les services correspondant aux concepts que vous avez associés qui sont  affichés (si un des services n'est pas affiché, vérifiez bien que vous avez bien associé les concepts et aussi que vous avez bien les droits pour utiliser le service). Sélectionner le service qui vous intéresse, puis sélectionner les informations que vous voulez ajouter dans votre jeu de données à partir du menu déroulant et enfin cliquez sur le bouton *Appliquer*. Attendez la fin de l'enrichissement. Dans la section *VUE TABLEAU* vous avez autant de nouvelles colonnes que vous avez sélectionné de données enrichies dans le menu déroulant de votre service dans la section *ENRICHISSEMENT*.\n\nLorsque vous ajouter un jeu de données personnel, vous n'aurez accès qu'au services personnel de votre compte pour enrichir vos données. Vous ne pourrez pas utiliser les services de votre organisation pour enrichir vos jeux de données personnels.\n\nLorsque vous ajouter un jeu de données dont le propriétaire est une organisation. Par défaut, vous aurez accès aux services de votre organisation pour enrichir un jeu de données dont le propriétaire est l’organisation. Vous ne pourrez pas utiliser les services personnels pour enrichir des jeux de données dont le propriétaire est une de vos organisations.\n\nLe service *Données cartographiques par Koumoul* est un service nécessaires aux applications *Infos-Parcelles* et *Infos-Localisations*. Vous n'avez pas de concepts à associer avec ce service, il faut juste le sélectionner lors d'une configuration d'un de ces applications.\n\n### Exemples d'enrichissement via les services Koumoul\n\n* Vous avez un fichier de 20 Mo qui contient des adresses et vous voulez afficher chacune des adresses sur une carte. Vous allez donc ajouter votre fichier sur la plateforme et procéder à un enrichissement par le service *Géocoder* pour obtenir les latitude/longitude des adresses. Une fois le téléchargement effectué, vous allez renseigner la page *DESCRIPTION* puis associer le [concept](user-guide/concepts) *adresse* à votre colonne qui contient les adresses. Ensuite vous allez dans la page *ENRICHISSEMENT* de votre jeu de données et vous aurez accès au service *Géocoder*, s'il n'est pas disponible, il faudra l'ajouter dans la section service. Sélectionnez le, puis choisissez les valeurs latitudes et longitudes et enfin cliquez sur appliquer. Une fois l'enrichissement fini, vous aurez accès à un nouvel onglet *CARTE* qui vous donne un aperçu de vos données sur une carte. Vous pouvez maintenant configurer une application [Infos-Localisations](user-guide/application-infos-location) pour avoir un meilleur rendu de vos données.\n* Vous faites parti d'une organisation, vous avez un fichier de 16ko qui contient des codes parcelles et vous voulez les afficher sur une carte.  \nLorsque vous ajouter votre fichier à la plateforme, si vous choisissez votre compte en tant que propriétaire, vous n'aurez que vos services de disponible par défaut et personne, autre que vous, ne pourra accéder à votre jeu de données. Si vous choisissez votre organisation en tant que propriétaire, vous aurez accès aux services de votre organisation et toute votre organisation aura accès à votre jeu de données. Une fois le téléchargement de votre fichier fini, vous pouvez renseigner la page *DESCRIPTION* et associer le concept *Code Parcelles* à votre colonne qui contient vos codes parcelles. Puis vous allez dans la page *ENRICHISSEMENT* de votre jeu de données et vous aurez accès au service *Cadastre* de votre organisation. Sélectionnez le, puis choisissez les valeurs latitudes et longitudes et enfin cliquez sur appliquer. Une fois l'enrichissement fini, vous aurez accès à un nouvel onglet *CARTE* qui vous donne un aperçu de vos données sur une carte. Vous pouvez maintenant configurer une application *Infos-Parcelles* pour avoir un meilleur rendu de vos données.\n* Vous avez un fichier de 10 Mo avec des codes SIREN et vous appartenez à une organisation. Vous pouvez ajouter votre fichier sur la plateforme en désignant l'organisation ou un rôle de l'organisation en tant que propriétaire. Une fois le téléchargement fini, vous pouvez renseigner la page *DESCRIPTION* et associer le concept *SIREN* à votre colonne qui contient vos codes SIREN. Puis vous allez dans la page *ENRICHISSEMENT* de votre jeu de données et vous aurez accès au service *Données des entreprises* de votre organisation. Sélectionnez le, vous avez maintenant accès aux données de la base SIREN. Vous pouvez choisir les données qui vous intéressent, telles que le *Nom ou raison de l'entreprise*, le *résultat de 2016*, l'*activité de l'entreprise* etc ... Tous les champs de la base SIREN ne sont pas tous renseignés. Pour chaque valeur non renseignée dans la base SIREN, vous aurez une case vide dans votre section *VUE TABLEAU*.\n"},409:function(e,n,t){"use strict";t.r(n),n.default="TODO\n"},410:function(e,n,t){"use strict";t.r(n),n.default="### Jeux de données\n\nLes jeux de données sont créés à partir de fichiers chargés par les utilisateurs. Dés métadonnées sont rajoutées et complétées par les utilisateurs, ce qui permet de les trouver et réutiliser plus facilement. Les données sont indexées et rendues disponible au travers d'une API Web, ce qui les rend accessibles. Les champs peuvent être décrits avec un vocabulaire sémantique, ce qui permet de mieux comprendre la données et de la rendre plus facilement interopérable.\n\nLes données importées sont pour l'instant de type tabulaire, fait d'autres types de structures seront supportées prochainement, comme par exemple le geoJSON.\n\n### Importer un fichier\n\nPour l'instant, seul le format CSV est supporté mais d'autres devraient bientôt suivre. Si votre fichier n'est pas dans ce format, vous pouvez le convertir avec votre tableur. Une fois votre fichier à disposition, vous pouvez l'importer en cliquant sur *Importer un fichier* dans la section *Jeux de données*. Une fois le fichier choisi, vous devez déterminer le propriétaire (vous ou l'une des organisations auxquelles vous appartenez). Enfin, si vous avez déjà importé auparavant un fichier avec ce nom pour ce propriétaire, vous pourrez mettre le jeux de données à jour. Dans tous les cas vous pouvez aussi créer un nouveau jeu de données.\n\n### Décrire les métadonnées\n\nUne fois le jeu de données créé par import d'un fichier, il est fortement conseillé de renseigner ses métadonnées : cela permet de le trouver et de le réutiliser plus facilement. Les informations générales sont surtout utiles pour le catalogage, alors que les informations du schéma sont très important pour la réutilisabilité. Les libellés et descriptions des champs apparaîtront sur la vue en table ou dans les infobulles des applications. Le choix de concepts appropriés pour vos champs est ce qui va permettre de réutiliser vos données dans des applications tierces ou de les enrichir avec des services distants.\n\n### Vue tableau\n\nCette vue permet de naviguer rapidement dans les données et d'en avoir un aperçu. Elle permet de rechercher dans les données à partir d'une requête textuelle, de naviguer dans différentes pages, mais ne permet pas de faire des filtres poussés ou des agrégations. Si vous souhaitez faire ce genre de chose, il vaut mieux configurer une application avec vos données pour le faire.\n\n### Permissions\nVoir à la section plus bas correspondante de ce document.\n\n### Enrichissement\n\nSuivant les services distants que vous avez configurés, et les concepts que vous avez assigné aux champs de vos données, il peut être possible d'enrichir les données. On peut par exemple rajouter des champs latitude et longitude si des champs décrivant une adresse sont présents, ou un secteur d'activité si un champ correspond à un SIRET d'un établissement.\n\n### Journal d'activité\n\nCe journal décrit l'ensemble des activité liées au jeu de données et permet de savoir dans quel état il est. Si la première entrée est *Les données sont indexées, le jeu de données est maintenant disponible*, vous pouvez consulter ou utiliser vos données dans des applications.\n\n### Documentation d'API\nCette documentation est destinée aux développeurs et va leur permettre de bien comprendre comment réutiliser vos données pour les intégrer dans d'autres applications. Cette documentation permet de faire des appels aux différents points d'accès de l'API pour bien comprendre comment elle marche.\n\n## Services distants\n\nLes services distants sont des fonctionnalités externalisées à ce service. Ils permettent par exemple de récupérer des données supplémentaires ou de faire des traitements sur certaines données. Ces services distants sont optionnels pour pouvoir exposer ses données, mais nécessaires si l'on souhaite faire de l'enrichissement ou utiliser certaines applications. Ils se présentent sous la forme d'APIs Web qui peuvent être ouvertes ou fermées, dans le 2e cas il faut alors paramétrer des codes d'accès à ces APIs.\n\n### Importer et configurer l'accès à un service distant\nPour importer un service distant, on peut soit déposer un fichier JSON qui décrit son API, soit rentrer une URL qui pointe vers ce fichier JSON. La description de l'API du service doit être rédigée avec un certain formalisme qui est décrit dans la section [Interopérabilité](interoperate).\n\n\n## Configurations d'applications\n\nUn aspect essentiel du service et de pouvoir facilement réutiliser les données dans des applications. Ces applications peuvent consommer différents flux de données, du moment qu'ils soient sémantisés et contiennent les informations dons les applications on besoin. Les applications on donc besoin d'être configurées, de stocker leur configuration et on doit facilement pouvoir configurer une application.\n\nLes applications ne sont pas développées dans ce projet : elles peuvent être privées et développées par des éditeurs ou être opensource. Un des prérequis est qu'elles soient accessibles en ligne. Plus précisément, les applications sont des services web réexposés par ce service. La section [Interopérabilité](interoperate) décrit comment concevoir une application pour qu'elle puisse être réutilisée.\n\n### Paramétrage d'une application existante\n\nPour ajouter une application, il faut connaître son URL d'exposition publique. Typiquement, en visitant cette adresse avec un navigateur web, on arrive sur une page présentant l'application et nous expliquant qu'elle n'est pas configurée. Il faut alors copier l'URL de cette explication et la coller dans l'écran d'ajout d'application de ce service. Après avoir cliqué sur *Suivant*, il faut ensuite renseigner le propriétaire qui peut être l'utilisateur connecté ou une des organisations auxquelles il appartient. Une fois ce choix effectué, un paramétrage pour cette application est créé. L'utilisateur peut accéder à ce paramétrage en cliquant sur le lien de la notification.\n\nSur l'écran de paramétrage, le titre et la description de l'application sont renseignés avec les valeurs par défaut pour cette application. Ils peuvent être modifiée, par exemple pour identifier que l'application est liée à certaines données. Ces informations sont principalement utilisées dans la vue en liste des paramétrages d'application. A noter qu'**une même application peut être paramétrée plusieurs fois** pour les mêmes utilisateurs / organisations. Les paramétrages peuvent ensuite différer par rapport aux données qu'ils utilisent.\n\nDes boutons d'action en bas de l'écran de paramétrage permettent de réaliser différentes tâches : accès direct à l'application configurée, suppression de l'application et éventuellement accès à l'écran de paramétrage de l'application.\n\n\n## Contrôles d'accès\n\nLe contrôle d'accès sur les flux de données se fait avec un système de permissions. Il y a des permissions sur les jeux de données, les services distants et les applications. Le niveau de granularité du contrôle d'accès est le fait d'être propriétaire ou non de la ressource (droits sur toutes les opérations liées à cette ressource), ou sinon sur chaque opération unitairement.\n\n### Utilisateurs et Organisations\n\nLe système des permissions repose sur une modélisation assez simple des concepts d'utilisateurs et d'organisations, comme par exemple celui implémenté dans [simple-directory](https://github.com/koumoul-dev/simple-directory) : les utilisateurs peuvent appartenir à plusieurs organisations et une organisation peut contenir plusieurs utilisateurs, il n'y a pas de relations entre les organisations.\n\nQue ce soit au niveau du propriétaire ou des permissions, il y a toujours possibilité de les définir à un niveau unitaire qui est un utilisateur, ou à un niveau de groupe qui est l'organisation. Dans ce 2e cas, tous les membres de l'organisation bénéficient alors de la propriété de la ressource ou de la permission d'accès.\n\nCe système est simple mais permet de couvrir beaucoup de cas fonctionnels. Il faut cependant faire attention car il peut être dangereux. Il faut notamment bien régler les droits de propriété ou d'écriture et nous conseillons de les garder à un niveau utilisateur, et d'ouvrir des droits de lecture sur des organisations.\n\n### Portée des permissions\n\nL'utilisateur propriétaire ou tous les membres de l'organisation propriétaire peuvent faire toutes les opérations sur la ressource possédée. Pour les autres utilisateurs, la permission est octroyée à un niveau opération. Une opération est un point d'accès exposé par l'API (tierce ou d'un jeu de données). On peut par exemple accorder la permission à quelqu'un de lire la description d'un jeu de données, mais pas les données.\n\n\n## Paramètres\n\nDes paramètres peuvent être réglés à un niveau utilisateur ou organisation. Pour le moment, ils permettent de régler des webhooks sortants.\n\n### Configuration des Webhooks\n\nUn webhook permet d'envoyer un messsage à un autre service Web quand un évènement se produit. Par exemple quand un jeu de données est mis à jour, il peut être intéressant d'avoir une notification dans un certain canal de communication. Pour configurer un webhook, il faut renseigner 3 champs :\n * Le titre du webhook, en général à quel service il est relié\n * L'URL à appeler, voir dans les sections ci-dessous comment l'obtenir en fonction du service que vous souhaiter connecter\n * La liste des évènements qui vont déclencher un appel vers le service configuré dans l'URL\n\n#### Mattermost\n\n[Mattermost](https://mattermost.com) est un logiciel open source qui permet aux équipes de discuter entre elles pour collaborer. Il est déployé par [Framasoft](https://framasoft.org/) et utilisable gratuitement sur [Framateam](https://framateam.org). La documentation, en anglais, à [cette page](https://docs.mattermost.com/developer/webhooks-incoming.html) décrit comment obtenir l'URL décrite ci dessus pour pouvoir déverser des notifications dans un canal particulier. Une fois l'URL générée dans Mattermost, il ne vous reste plus qu'à la copier dans le champ URL du nouveau Webhook que vous voulez créer.\n"},414:function(e,n,t){e.exports=t(415)},470:function(e,n,t){var map={"./about/overview-fr.md":390,"./functional-presentation/access-control-fr.md":336,"./functional-presentation/analitycs-fr.md":337,"./functional-presentation/api-fr.md":338,"./functional-presentation/api-key-fr.md":339,"./functional-presentation/api-stats-fr.md":340,"./functional-presentation/back-office-fr.md":341,"./functional-presentation/catalog-fr.md":342,"./functional-presentation/connection-fr.md":343,"./functional-presentation/connectors-fr.md":344,"./functional-presentation/content-pages-fr.md":345,"./functional-presentation/dataset-details-fr.md":346,"./functional-presentation/dataset-management-fr.md":347,"./functional-presentation/extensions-fr.md":348,"./functional-presentation/home-fr.md":349,"./functional-presentation/introduction-fr.md":350,"./functional-presentation/licenses-fr.md":351,"./functional-presentation/notify-fr.md":352,"./functional-presentation/periodic-processings-fr.md":353,"./functional-presentation/portal-config-fr.md":354,"./functional-presentation/portal-fr.md":355,"./functional-presentation/portal-notify-fr.md":356,"./functional-presentation/reuse-fr.md":357,"./functional-presentation/user-management-fr.md":358,"./functional-presentation/visu-config-fr.md":359,"./functional-presentation/visualization-fr.md":360,"./functional-presentation/visualizations-page-fr.md":361,"./install/config-en.md":362,"./install/config-fr.md":363,"./install/i18n-en.md":364,"./install/i18n-fr.md":365,"./install/install-en.md":366,"./install/install-fr.md":367,"./interoperate/api-en.md":368,"./interoperate/api-fr.md":369,"./interoperate/applications-en.md":370,"./interoperate/applications-fr.md":371,"./interoperate/collectors-en.md":372,"./interoperate/collectors-fr.md":373,"./interoperate/connectors-en.md":374,"./interoperate/connectors-fr.md":375,"./interoperate/services-en.md":376,"./interoperate/services-fr.md":377,"./technical-architecture/analytics-fr.md":378,"./technical-architecture/backup-fr.md":379,"./technical-architecture/capture-fr.md":380,"./technical-architecture/connectors-fr.md":381,"./technical-architecture/data-fair-fr.md":382,"./technical-architecture/http-log-fr.md":383,"./technical-architecture/introduction-fr.md":384,"./technical-architecture/notify-fr.md":385,"./technical-architecture/portal-fr.md":386,"./technical-architecture/processings-fr.md":387,"./technical-architecture/simple-directory-fr.md":388,"./technical-architecture/thumbor-fr.md":389,"./user-guide/application-en.md":391,"./user-guide/application-fr.md":392,"./user-guide/catalog-en.md":393,"./user-guide/catalog-fr.md":394,"./user-guide/concepts-en.md":395,"./user-guide/concepts-fr.md":396,"./user-guide/dataset-en.md":397,"./user-guide/dataset-fr.md":398,"./user-guide/enrichment-en.md":399,"./user-guide/enrichment-fr.md":400,"./user-guide/format-en.md":401,"./user-guide/format-fr.md":402,"./user-guide/introduction-en.md":403,"./user-guide/introduction-fr.md":404,"./user-guide/permission-en.md":405,"./user-guide/permission-fr.md":406,"./user-guide/service-en.md":407,"./user-guide/service-fr.md":408,"./user-guide/use-en.md":409,"./user-guide/use-fr.md":410};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(map,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=470},490:function(e,n,t){"use strict";t(188)},499:function(e,n,t){"use strict";t(189)},500:function(e,n,t){"use strict";t.r(n);t(9),t(5),t(7),t(11),t(12);var r=t(2),o=t(1),l=t(54);function d(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(n){Object(r.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}o.a.use(l.a),n.default=function(){return new l.a.Store({state:{env:{}},mutations:{setAny:function(e,n){Object.assign(e,n)}},actions:{nuxtServerInit:function(e,n){var t=e.commit,r=(e.dispatch,n.req,n.env);n.app;t("setAny",{env:c({},r)})}}})}},505:function(e,n,t){var map={"./af":191,"./af.js":191,"./ar":192,"./ar-dz":193,"./ar-dz.js":193,"./ar-kw":194,"./ar-kw.js":194,"./ar-ly":195,"./ar-ly.js":195,"./ar-ma":196,"./ar-ma.js":196,"./ar-sa":197,"./ar-sa.js":197,"./ar-tn":198,"./ar-tn.js":198,"./ar.js":192,"./az":199,"./az.js":199,"./be":200,"./be.js":200,"./bg":201,"./bg.js":201,"./bm":202,"./bm.js":202,"./bn":203,"./bn-bd":204,"./bn-bd.js":204,"./bn.js":203,"./bo":205,"./bo.js":205,"./br":206,"./br.js":206,"./bs":207,"./bs.js":207,"./ca":208,"./ca.js":208,"./cs":209,"./cs.js":209,"./cv":210,"./cv.js":210,"./cy":211,"./cy.js":211,"./da":212,"./da.js":212,"./de":213,"./de-at":214,"./de-at.js":214,"./de-ch":215,"./de-ch.js":215,"./de.js":213,"./dv":216,"./dv.js":216,"./el":217,"./el.js":217,"./en-au":218,"./en-au.js":218,"./en-ca":219,"./en-ca.js":219,"./en-gb":220,"./en-gb.js":220,"./en-ie":221,"./en-ie.js":221,"./en-il":222,"./en-il.js":222,"./en-in":223,"./en-in.js":223,"./en-nz":224,"./en-nz.js":224,"./en-sg":225,"./en-sg.js":225,"./eo":226,"./eo.js":226,"./es":227,"./es-do":228,"./es-do.js":228,"./es-mx":229,"./es-mx.js":229,"./es-us":230,"./es-us.js":230,"./es.js":227,"./et":231,"./et.js":231,"./eu":232,"./eu.js":232,"./fa":233,"./fa.js":233,"./fi":234,"./fi.js":234,"./fil":235,"./fil.js":235,"./fo":236,"./fo.js":236,"./fr":142,"./fr-ca":237,"./fr-ca.js":237,"./fr-ch":238,"./fr-ch.js":238,"./fr.js":142,"./fy":239,"./fy.js":239,"./ga":240,"./ga.js":240,"./gd":241,"./gd.js":241,"./gl":242,"./gl.js":242,"./gom-deva":243,"./gom-deva.js":243,"./gom-latn":244,"./gom-latn.js":244,"./gu":245,"./gu.js":245,"./he":246,"./he.js":246,"./hi":247,"./hi.js":247,"./hr":248,"./hr.js":248,"./hu":249,"./hu.js":249,"./hy-am":250,"./hy-am.js":250,"./id":251,"./id.js":251,"./is":252,"./is.js":252,"./it":253,"./it-ch":254,"./it-ch.js":254,"./it.js":253,"./ja":255,"./ja.js":255,"./jv":256,"./jv.js":256,"./ka":257,"./ka.js":257,"./kk":258,"./kk.js":258,"./km":259,"./km.js":259,"./kn":260,"./kn.js":260,"./ko":261,"./ko.js":261,"./ku":262,"./ku.js":262,"./ky":263,"./ky.js":263,"./lb":264,"./lb.js":264,"./lo":265,"./lo.js":265,"./lt":266,"./lt.js":266,"./lv":267,"./lv.js":267,"./me":268,"./me.js":268,"./mi":269,"./mi.js":269,"./mk":270,"./mk.js":270,"./ml":271,"./ml.js":271,"./mn":272,"./mn.js":272,"./mr":273,"./mr.js":273,"./ms":274,"./ms-my":275,"./ms-my.js":275,"./ms.js":274,"./mt":276,"./mt.js":276,"./my":277,"./my.js":277,"./nb":278,"./nb.js":278,"./ne":279,"./ne.js":279,"./nl":280,"./nl-be":281,"./nl-be.js":281,"./nl.js":280,"./nn":282,"./nn.js":282,"./oc-lnc":283,"./oc-lnc.js":283,"./pa-in":284,"./pa-in.js":284,"./pl":285,"./pl.js":285,"./pt":286,"./pt-br":287,"./pt-br.js":287,"./pt.js":286,"./ro":288,"./ro.js":288,"./ru":289,"./ru.js":289,"./sd":290,"./sd.js":290,"./se":291,"./se.js":291,"./si":292,"./si.js":292,"./sk":293,"./sk.js":293,"./sl":294,"./sl.js":294,"./sq":295,"./sq.js":295,"./sr":296,"./sr-cyrl":297,"./sr-cyrl.js":297,"./sr.js":296,"./ss":298,"./ss.js":298,"./sv":299,"./sv.js":299,"./sw":300,"./sw.js":300,"./ta":301,"./ta.js":301,"./te":302,"./te.js":302,"./tet":303,"./tet.js":303,"./tg":304,"./tg.js":304,"./th":305,"./th.js":305,"./tk":306,"./tk.js":306,"./tl-ph":307,"./tl-ph.js":307,"./tlh":308,"./tlh.js":308,"./tr":309,"./tr.js":309,"./tzl":310,"./tzl.js":310,"./tzm":311,"./tzm-latn":312,"./tzm-latn.js":312,"./tzm.js":311,"./ug-cn":313,"./ug-cn.js":313,"./uk":314,"./uk.js":314,"./ur":315,"./ur.js":315,"./uz":316,"./uz-latn":317,"./uz-latn.js":317,"./uz.js":316,"./vi":318,"./vi.js":318,"./x-pseudo":319,"./x-pseudo.js":319,"./yo":320,"./yo.js":320,"./zh-cn":321,"./zh-cn.js":321,"./zh-hk":322,"./zh-hk.js":322,"./zh-mo":323,"./zh-mo.js":323,"./zh-tw":324,"./zh-tw.js":324};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(map,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=505}},[[414,18,2,19]]]);